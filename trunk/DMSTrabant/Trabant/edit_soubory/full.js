'use strict';(function(f){function d(){}function e(e,d){if(b)return d.indexOf(e);for(var h=d.length;h--;)if(d[h]===e)return h;return-1}var g=d.prototype,i=[],b=i.indexOf?!0:!1;g.getListeners=function(b){var e=this._events||(this._events={});return e[b]||(e[b]=[])};g.addListener=function(b,d){var h=this.getListeners(b);-1===e(d,h)&&h.push(d);return this};g.removeListener=function(b,d){var h=this.getListeners(b),g=e(d,h);-1!==g&&(h.splice(g,1),0===h.length&&(this._events[b]=null));return this};g.addListeners=
function(b,e){return this.manipulateListeners(!1,b,e)};g.removeListeners=function(b,e){return this.manipulateListeners(!0,b,e)};g.manipulateListeners=function(b,e,h){var d,c,a=b?this.removeListener:this.addListener,b=b?this.removeListeners:this.addListeners;if("object"===typeof e)for(d in e){if(e.hasOwnProperty(d)&&(c=e[d]))"function"===typeof c?a.call(this,d,c):b.call(this,d,c)}else for(d=h.length;d--;)a.call(this,e,h[d]);return this};g.removeEvent=function(b){b?this._events[b]=null:this._events=
null;return this};g.emitEvent=function(b,e){for(var h=this.getListeners(b),d=h.length;d--;)!0===h[d].apply(null,e||i)&&this.removeListener(b,h[d]);return this};"function"===typeof define&&define.amd?define(function(){return d}):f.EventEmitter=d})(this);
StackExchange.realtime=function(){function f(){if(!(null==n||1!=n.readyState))for(var a=0,c=q.length;a<c;a++)d("sending: "+q[a]),n.send(q[a])}function d(a){StackExchange.options.user.isDeveloper&&console.log(a)}function e(){v.addListener("hb",function(a){n.send(a)})}function g(a){q.push(a);f()}function i(a,c){1!=$("#vote-accepted-"+a.answerid).length&&($(".vote-accepted-on").remove(),c||$('.vote input[value="'+a.answerid+'"]').parent().append('<span class="vote-accepted-on" title="The question owner accepted this as the best answer">accepted</span>'))}
function b(){$.ajax({type:"POST",url:"/review/suggested-edit-count",data:{fkey:StackExchange.options.user.fkey},dataType:"json",success:function(a){if(a&&a.count){var a=a.count,c=$(".suggested-edits-count");c.text()!=a&&(0==$(":animated").length&&c.fadeTo("fast",0.5).fadeTo("fast",1),c.text(a))}}})}function l(){$("#new-answer-activity").remove();$("#answers-header").prepend(y)}function k(a){var c=$(".question[data-questionid="+a.id+"], .answer[data-answerid="+a.id+"]"),b=$('<div class="new-post-activity" data-postid="'+
a.id+'">an edit has been made to this post; click to load</div>');0<c.find(".new-post-activity[data-postid="+a.id+"]").length||c.prepend(b.click(function(){$(".new-post-activity[data-postid="+a.id+"]").remove();0==$("#review-content").length&&$.get("/posts/"+a.id+"/ajax-load-mini?title=true",z(c.find(".postcell, .answercell"),a));$(document).trigger("refreshEdit",a.id)}))}function h(a,b,h){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(a.body)||(a.fetch&&$.ajax({url:"/posts/"+
a.id+"/"+h}).done(function(c){a.body=c;o[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid}}),o[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(A),b&&c())}function m(a,c){return a.index<c.index?-1:a.index>c.index?1:0}function c(){var c=[],b;for(b in o)o.hasOwnProperty(b)&&c.push(o[b]);c=c.sort(m);for(b=0;b<c.length;b++){var h=c[b];$("#question-summary-"+h.id).remove();$(h.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}a(0);
null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,t);"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);j();$(".new-post-activity").remove();o={}}function a(a){var c=document.title.replace(/^\(\d*\*?\) /,"");0<a&&(c="("+a+") "+c);window.setTimeout(function(){$(document).attr("title",c)},200)}function j(){for(var a=$("span.relativetime, span.relativetime-clean"),c=0;c<a.length;c++)if(a[c].title){var b;b=a[c].title;if(null==b||20!=b.length)b=
void 0;else{b=b.substr(0,10)+"T"+b.substr(11,10);b=new Date(b);b=((new Date).getTime()-b.getTime())/1E3;var h=Math.floor(b/86400);b=isNaN(h)||0>h||31<=h?void 0:0==h&&(2>b&&"just now"||60>b&&Math.floor(b)+(s?"s ago":" secs ago")||120>b&&(s?"1m ago":"1 min ago")||3600>b&&Math.floor(b/60)+(s?"m ago":" mins ago")||7200>b&&(s?"1h ago":"1 hour ago")||86400>b&&Math.floor(b/3600)+(s?"h ago":" hours ago"))}b&&(a[c].innerHTML=b)}}var n,o={},p=[],w=0,q=[],r=10,u=!1,s=!1,t,x,v=new EventEmitter,y=function(){var a=
Object.keys(p).length;0==a&&$("#new-answer-activity").remove();return $('<div id="new-answer-activity">'+a+" new answer"+(1<a?"s":"")+" to this question</div>").click(function(){StackExchange.realtime.expandAnswers()})},z=function(a,c){return function(b){var h=$(b).find(".postcell, .answercell"),e=a.closest(".question").length;a.replaceWith(h.hide());b=$(b).attr("data-title");null!=b&&$("h1 a.question-hyperlink").text(b);h.fadeIn(400,function(){StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts();
styleCode()});StackExchange.comments.init({post:h});StackExchange.vote.init(c.id);StackExchange.vote||StackExchange.question.bindAnonymousVoteDisclaimers();a.find("a[id^='link-post-']").click(function(a){if(!a.ctrlKey&&!a.metaKey)return StackExchange.question.showShareTip($(this),options.showCitation),!1});StackExchange.question.bindSuggestedEditPopupLinks();e&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init(x);window.history.pushState(c,"new post","#"+c.id)}},A=function(){var c=
Object.keys(o).length;a(c);return $('<div class="new-post-activity">'+c+" question"+(1<c?"s":"")+" with new activity</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{init:function(a,c){var b=a.split(","),b=b[w%b.length];null!=b&&0!=b.indexOf("ws://")&&(b="ws://"+b);x=c;if("WebSocket"in window||"MozWebSocket"in window){if(n)try{d("closing WebSocket"),n.close()}catch(h){}n||(d("opening WebSocket to: "+b),n="WebSocket"in window?new WebSocket(b):new MozWebSocket(b),n.onopen=
function(){u||(u=!0);w=0;d("WebSocket opened");f();e();setInterval(j,6E4)},n.onmessage=function(a){a=$.parseJSON(a.data);v.emitEvent(a.action,[a.data])},n.onclose=function(){n=null;d("WebSocket closed");5>w&&0<r&&(w++,r--,d("reconnect attempt:"+w+" max retries:"+r),setTimeout(function(){StackExchange.realtime.init(a,x)},1E3*((new Date).getTime()%50/20)))},n.onerror=function(){d("WebSocket failed");n=null})}},expandActiveQuestions:c,expandAnswers:function(){$("#tabs").show();var a=$("#answers #answers-header .answers-subheader h2"),
c=parseInt(a.text())+p.length;isNaN(c)&&(c=p.length);a.text(c+" Answer"+(1<c?"s":""));$("#new-answer-activity").remove();var b=$("#answers #answers-header");$.each(p,function(a,c){$.get("/posts/"+c+"/ajax-load-mini",function(a){a=$(a);a.insertAfter(b).hide().fadeIn(400,function(){StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts();styleCode()});StackExchange.comments.init({post:a});StackExchange.vote.init(c)})});StackExchange.vote||StackExchange.question.bindAnonymousVoteDisclaimers();
b.find("a[id^='link-post-']").click(function(a){if(!a.ctrlKey&&!a.metaKey)return StackExchange.question.showShareTip($(this),options.showCitation),!1});StackExchange.question.bindSuggestedEditPopupLinks();j();p=[]},subscribeToActiveQuestions:function(a,c,b,e,j,d,i){a=a+"-"+c;t=b;s=d;g(a);v.addListener(a,function(a){a=$.parseJSON(a);if(null!=j)for(var b=0;b<j.length;b++)if(-1==$.inArray(j[b],a.tags))return;h(a,e,c);null!=i&&i(a)})},subscribeToInboxNotifications:function(){if(null!=StackExchange.options.user.accountId){var a=
StackExchange.options.user.accountId+"-inbox";g(a);v.addListener(a,function(a){$(".unreadCount").remove();var c=$('<a class="unreadCount" title="unread messages in your inbox">'+a+"</a>").insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:c.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(a)})}},subscribeToQuestion:function(a,c){var b=a+"-question-"+c;g(b);v.addListener(b,function(a){a=$.parseJSON(a);if(a.acctid!=StackExchange.options.user.accountId)switch(a.a){case "score":var c=
$('.vote input[value="'+a.id+'"]').siblings(".vote-count-post");c.text()!=a.score&&(c.text(a.score),0==$(":animated").length&&c.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":0==$("#comment-"+a.commentid).length&&(a=$("#comments-link-"+a.id),c=a.data("comments-count")||0,c++,a.data("comments-count",c),a.attr("title","expand to show all comments on this post, or add one of your own"),a.html("add / show <b>"+
c+"</b> more comment"+(1<c?"s":"")).show().fadeTo("fast",0.7).fadeTo("fast",1));break;case "answer-add":0==$("#answer-"+a.answerid).length&&(p.push(a.answerid),StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(l,5E3).trigger():l(),StackExchange.cardiologist.notifiedOfNewAnswer());break;case "accept":i(a);break;case "unaccept":i(a,!0);break;case "post-edit":k(a)}})},unsubscribeToQuestion:function(a,c){var b=a+"-question-"+c;d("unsubscribing: "+b);var h=$.inArray(b,q);
-1!=h&&(q.splice(h,1),null==n||1!=n.readyState||n.send("-"+b))},subscribeToReputationNotifications:function(a){null!=StackExchange.options.user.accountId&&(a=a+"-"+StackExchange.options.user.userId+"-reputation",g(a),v.addListener(a,function(a){var c=$("#hlinks .reputation-score");c.text()!=a.score&&(0==$(":animated").length&&c.fadeTo("fast",0.8).fadeTo("fast",1),c.text(a))}))},subscribeToSuggestedEdits:function(a){a+="-suggested-edits-count-update";g(a);v.addListener(a,function(){b()})},updateRelativeDates:j,
subscribeToReviewDashboard:function(a){a+="-review-dashboard-update";g(a);v.addListener(a,function(a){var a=$.parseJSON(a),c=$('.dashboard-activity[data-review-task="'+a.i+'"]');0==c.find('.dashboard-user[data-user="'+a.u+'"]').length&&(c.find(".dashboard-user:nth-child(6)").remove(),c.children().css({left:"-44px"}),c.prepend(a.html).children().animate({left:0}))})}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(f){if(gauth.enabled()){var d=document.domain;"meta."==d.substr(0,5)&&(d=d.substr(4,d.length-4));var e=$.cookie("gauth");if(null==e)$.cookie("gauth",null,{path:"/",domain:d}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=d.charAt(0)&&(d="."+d);$.cookie("gauth",null,{path:"/",domain:d});$.cookie("gauth",null,{path:"/",domain:document.domain});var g=e.indexOf(":"),d=e.substr(0,g),e=e.substr(g+1),i=f+"/auth/global/write?authToken="+
encodeURIComponent(d)+"&nonce="+encodeURIComponent(e);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+i+"'></iframe>")})}}},checkStackAuth:function(f){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var d=function(e){if(e.origin==f)if("No Local Storage"==e.data)gauth.noGAuthStorage();else if("No Session"==e.data)gauth.noGAuthSession();else{var d=e.data.substr(0,e.data.indexOf(",")),e=e.data.substr(e.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:d,nonce:e},function(e){gauth.globallyAuthed(e)},"json")}};window.attachEvent?window.attachEvent("onmessage",d):window.addEventListener("message",d,!1);$.post("/users/login/global/request","",function(e){var d=f+"/auth/global/read?request="+encodeURIComponent(e.token)+"&nonce="+encodeURIComponent(e.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+d+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(f){if(f&&f.Message){var f=f.Message+" ",d,e=!1,g=""+window.location,i=g.indexOf("returnurl=");if(-1!=i){var b=g.indexOf("&",i);-1==b&&(b=g.length);d=decodeURIComponent(g.substring(i+10,b));d=/^(?:http:\/\/|\/)/.test(d)?d.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=g.indexOf("/users/login")&&
(e=!0,d=d||"/");StackExchange.helpers.showFancyOverlay({message:e?f+"<br>You are being redirected...":f+(d?"<a href=\"javascript:window.location='"+d+"'\">Click here</a> to return to your last location.":'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!e,complete:function(){e&&(window.location=d)}})}}}}(),genuwine=function(){var f,d="",e,g,i=[],b=function(){return $(".genu").hasClass("genu-on")},l=function(){var a=$(".genu"),c=$("#seWrapper");if(0==c.length||
0<e||g){h();var c=$("#seWrapper"),b;0<e?(b=$("#seTabInbox"),w(b)):g?(b=$("#seTabNotices"),m(b)):(b=$("#seTabHot"),j(b));b.addClass("seCurrent")}if(b=a.hasClass("genu-on")){$(".unreadCountTab").remove();$("#portalLink .itemBoxNew").removeClass("itemBoxNew");c.fadeOut("fast");for(c=0;c<i.length;c++)i[c]();i=[];0<g&&$("#portalLink .unreadCount").text(""+g).addClass("newNotices").show().click(l)}else c.fadeIn("fast"),$("#portalLink .unreadCount").hide();a.toggleClass("genu-on",!b);-1==e&&$(a).ready(function(){$("#seTabInbox").hide()});
k($("#seTabInbox"),$("#seTabNotices"))},k=function(a,c){StackExchange.options.site.isNoticesTabEnabled&&g&&0==c.find(".unreadCountTab").length&&c.prepend('<span class="unreadCountTab newNotices">'+g+"</span>");0<e&&0==a.find(".unreadCountTab").length&&a.prepend('<span class="unreadCountTab">'+e+"</span>")},h=function(){$("#seWrapper").remove();var c='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+d+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+
(!StackExchange.options.user.isAnonymous?'<li><a id="seTabInbox">Inbox</a></li>':"")+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter">'+(!StackExchange.options.user.isAnonymous?'<div id="seTabEmail" class="seEmailAccount"><a>email settings</a></div>':"")+'<a id="seClose">close</a></div></div>',b=$("#hlinks"),b=b.height()+b.offset().top+5;$(c).appendTo("#portalLink").css({top:b}).find("ul.seNavLinks a, #seTabEmail").click(function(){var c=
$(this);$(".seNavLinks a").removeClass("seCurrent");c.addClass("seCurrent");switch(c.attr("id")){case "seTabHot":j(c);$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&a(c);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":w(c);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();
$("#seContainerInbox").fadeIn("fast");break;case "seTabEmail":0==$("#seContainerEmail").length&&n(c);$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerNotices").hide();$("#seContainerEmail").fadeIn("fast");break;case "seTabNotices":m(c),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").click(function(){l()})},m=function(a){0==$("#seContainerNotices").length&&s(a,"/notices/genuwine","jsonp",
c,!0)},c=function(a,c){for(var b='<div id="seContainerNotices" style="display:none">',h=0;h<c.length;h++)var e=c[h],b=b+('<div class="noticeBox'+(e.is_unread?" itemBoxNew":"")+'"><a href="'+e.site_url+'" class="siteLinkFavicon"><img src="'+e.icon+'"></a><div class="siteInfo"><p>'+e.text+"</p></div></div>");t(a,b+"</div>");i.push(function(){g=0;k($("#seTabInbox"),$("#seTabNotices"))});g=0},a=function(a){s(a,d+"/genuwine/sites?callback=?&host="+document.location.host+(f?"&accountId="+f:""),"jsonp",
p)},j=function(a){0==$("#seContainerHot").length&&s(a,d+"/genuwine?callback=?","jsonp",o)},n=function(a){s(a,"/accounts/email-settings","json",function(a,c){function b(){$("#email-save").removeAttr("disabled");$("#email-confirmation").html("")}t(a,'<div id="seContainerEmail" style="display:none; font-size:11px;"><div class="itemBox" style="border-bottom: 0px"><p>Would you like to receive unread inbox messages via email?</p><div>Email: <input id="email-notify" name="email-notify" style="width:300px;" value="'+
c.verifiedEmail+'"></input></div><div><input type="radio" name="optIn" value="true" id="email-enable"'+(!0==c.optIn?'checked="checked"':"")+'"> <label for="email-enable">Email me my unread inbox messages </label> <select id="email-freq"><option value="3">every 3 hours</option><option value="24">daily</option><option value="168">weekly</option></select> </div><div><input type="radio" name="optIn" value="false" id="email-disable"'+(!0!=c.optIn?'checked="checked"':"")+'"> <label for="email-disable">Do not email me inbox messages</label></input></div><div><input type="button" name="save" id="email-save" value="Save" disabled="disabled"></input></div><div id="email-confirmation" style="display:none;"></div></div></div>');
$("#email-freq").val(c.freq).on("click focus",function(){$("#email-enable").prop("checked",!0)});$("#email-notify").focus().keyup(b);$("#email-enable, #email-disable, #email-freq").change(b);$("#email-save").click(function(){x();$.post("/accounts/verified-email-set",{email:$("#email-notify").val(),fkey:StackExchange.options.user.fkey,optin:$("input[name=optIn]:checked").val(),freq:$("#email-freq").val()},function(a){$("#seWrapper .seContainer").removeSpinner();$("#email-confirmation").html(a.message).fadeIn();
a.success&&$("#email-save").attr("disabled","disabled")},"json")})},!0)},o=function(a,c){for(var b=$("<div/>"),h='<div id="seContainerHot" style="display:none">',e=0;e<c.length;e++)var j=c[e],d=j.SiteId,g='href="http://'+d+"/q/"+j.Id+'?hq=1"',i=parseInt(j.DisplayScore,10),h=h+('<div class="itemBox"><a '+g+' class="seNumAnswer">'+i+'</a><div class="siteInfo"><p><a '+g+">"+b.text(j.Title).html()+'</a></p><a href="http://'+d+'" class="siteLink">'+d+"</a></div></div>");t(a,h+"</div>")},a=function(a){s(a,
d+"/genuwine/sites?callback=?&host="+document.location.host+(f?"&accountId="+f:""),"jsonp",p)},p=function(a,c){for(var b='<div id="seContainerSites" style="display:none">',h=0;h<c.length;h++)var e=c[h],j=e.Name,d='href="http://'+e.Id+'?as=1"',b=b+('<div class="itemBox"><a '+d+' class="siteFavicon"><img src="'+e.FaviconUrl+'" alt="'+j+'"></a><div class="siteInfo"><p><a '+d+">"+j+"</a></p><a "+d+' class="siteLink">'+e.Description+"</a></div></div>");t(a,b+"</div>")},w=function(a){-1!=e&&(0==$("#seContainerInbox").length||
0<e)&&q(a)},q=function(a){s(a,"/inbox/genuwine","json",r,!0)},r=function(a,c){for(var b='<div id="seContainerInbox" style="display:none">',h=0;h<c.length;h++){var j=c[h],d='href="'+j.Url+'"',g='title="'+j.CreationDate+'"',n=j.Count,b=b+('<div class="itemBox'+(j.IsNew?" itemBoxNew":"")+'"><a '+d+' class="siteLinkFavicon"><img src="'+j.FaviconUrl+'" alt="'+j.SiteUrl+'"></a><div class="siteInfo">');"careers message"==j.Type?b+="<p><a "+d+' style="font-weight:normal"><b>'+j.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":
"invitation"==j.Type?(g=j.Count,b+="<p><a "+d+' style="font-weight:normal"><b>'+g+"</b> "+("invitation"+(1<g?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):b+="<p>"+(1<n?n+" ":"")+j.Type+" on <a "+d+" "+g+">"+j.Title+"</a></p>";b+='<p class="inboxSummary">'+(j.Summary||"")+"</p></div></div>"}f&&5<=c.length&&(b+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+f+'?tab=inbox">more inbox messages &hellip;</a></div></div>');t(a,b+"</div>");
i.push(function(){e=0;k($("#seTabInbox"),$("#seTabNotices"))});e=0},u={},s=function(a,c,b,h,j){var e=a.attr("id");if(u[e])x();else{u[e]=!0;x();var d=function(){u[e]=!1;StackExchange.helpers.showErrorPopup($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:c,dataType:b,success:function(c){u[e]=!1;c&&(0<c.length||j)?h(a,c):d()},error:d,complete:function(){$("#seWrapper .seContainer").removeSpinner()}})}},t=function(a,c){var b=$(c);b.prependTo("#seWrapper .seContainer");
a.hasClass("seCurrent")&&b.fadeIn("fast")},x=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner("#seWrapper .seContainer",{position:"relative",left:"10px",top:"10px"})},v=function(){var a=$("#portalLink .unreadCount"),c=a.css("margin-top");a.css({marginTop:-20,opacity:0}).show().animate({marginTop:c,opacity:1},2E3)},y=function(){var a=$("#portalLink .unreadCount"),c=a.data("events");(!c||!c.click)&&0<a.length&&a.click(l)};return{isVisible:b,click:l,setUnreadCount:function(a){e=
a;var c=$("#seTabInbox");0<a?($("#portalLink .unreadCount").text(e),c.hasClass("seCurrent")&&b()&&q(c),v()):$("#portalLink .unreadCount").text("").hide();$("#portalLink .unreadCount").removeClass("newNotices");y()},animateInbox:v,init:function(a,c,h){var j=$(".genu");1<=j.length&&(j[0].onclick=null);f=a;d=j.attr("href");e=c;g=h;!(0<e)&&StackExchange.options.site.isNoticesTabEnabled&&(99<g&&(g=99),0<g&&$("#portalLink .unreadCount").text(""+g).addClass("newNotices"),y());j.removeAttr("href").click(l);
y();$(document).click(function(a){b()&&!$.contains($("#portalLink")[0],a.target)&&l()})}}}();
StackExchange.notify=function(){function f(b,e){var c=$("#dismissed-messages");c.val(c.val()+"~"+b+(e?" "+e:"")+"~")}function d(b,e){var c=$("#dismissed-messages").val();return!c?!1:RegExp("~"+b+(e?" "+e:"")+"~").test(c)}function e(b,e,c){var a=parseInt($("body").css("margin-top").match(/\d+/)),b=e*a/b;c?$("body:not(.no-message-slide)").animate({marginTop:b+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",b+"px")}var g=0,i=function(b,d){var c=$("#notify-"+b+(d?"-"+d:""));-1==
b?$.cookie("m","0",{expires:90,path:"/"}):-1<b&&$.post("/messages/mark-as-read",{messagetypeid:b,id:d?d:null});f(b,d);g--;c.fadeOut("fast",function(){e(g+1,g,!0);c.remove()})},b=function(b){g++;if(d(b.messageTypeId,b.id))return!1;var e="";b.messageTypeId&&(e=' id="notify-'+b.messageTypeId+(b.id?"-"+b.id:"")+'"');e="<div"+e+' style="display:none"><span class="notify-close"><a title="dismiss this notification">&times;</a></span><span class="notify-text">'+b.text+"</span>";if(b.showProfile)var c=encodeURIComponent("/users/"+
b.userId+"?tab=badges&sort=recent"),e=e+(' See your <a href="/messages/mark-as-read?messagetypeid='+b.messageTypeId+"&returnurl="+c+'">profile</a>.');e=$(e+"</div>");e.find(".notify-close").click(function(){b.close&&b.close();i(b.messageTypeId,b.id)});$("#notify-container").append(e);return!0},l=function(){$("#notify-container div").fadeIn("slow")},k=function(e,d){var c=$('<div class="link-more"><a>view '+e+" more notification"+(1!=e?"s":"")+"</a></div>");$("#notify-container").append(c);c.click(function(){c.detach();
for(var a=0;a<d.length;a++)b(d[a]);l()})};return{showMessages:function(d,i){for(var c=0,a=i?2:d.length,j=0;j<a&&j<d.length;j++)b(d[j])&&c++;e(g,c,!1);l();i&&c<d.length&&(a=d.slice(a),k(d.length-c,a))},show:function(e,d){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");b({text:e,messageTypeId:d});l()},close:i,getMessageText:function(b){return $("#notify-"+b+" .notify-text").text()}}}();
function moveScroller(){var f=$("#scroller").width(),d=function(){var e=$(window).scrollTop(),d=$("#scroller-anchor").offset().top,i=$("#scroller");e>d?i.height()>$(window).height()?i.css({position:"fixed",top:"",bottom:"0px",width:f}):i.css({position:"fixed",top:"0px",bottom:"",width:f}):e<=d&&i.css({position:"relative",top:"",bottom:""})};$(window).scroll(d).resize(d);d()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var f=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),f=!0);var d;if(d=!$(this).hasClass("prettyprint")){d=$(this);var e=$("#prettify-lang").text();""!=e?(d.addClass(e),d=!0):d=!1}d&&($(this).addClass("prettyprint"),f=!0)});f&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(f){function d(b,d){var c=$("<div id='"+f.id+"'/>").html(d),a=$("<div />").css({overflow:"hidden",position:"absolute","z-index":1002,width:1,height:1,top:0,left:0}).append(c).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(c.attr("id"));var j=f.showing(b,c),g={left:j.left};j.hasOwnProperty("bottom")?(g.bottom=j.bottom,g.top="auto"):g.top=j.top;var k;f.shown&&(k=function(){f.shown(b,c)});a.css(g).animate({height:c.outerHeight()+8,width:c.outerWidth()+8},
300,k);e=function(){a.stop().remove();f.removed&&f.removed(b,c);e=i=null};i=StackExchange.helpers.DelayedReaction(e,5);g=a;j.additional&&(g=g.add(j.additional));g.hover(i.cancel,i.trigger)}var e,g,i,b,l={},k=StackExchange.helpers.DelayedReaction(function(h,g){if(!b&&h){var c;f.cache&&"c_"+h in l?c=$.Deferred().resolve(l["c_"+h]):(c=$.ajax({type:"GET",url:h,dataType:"html"}),f.cache&&c.done(function(a){l["c_"+h]=a}));c.done(function(a){e&&e();""!=a&&d(g,a)})}},500);$(document).delegate(f.selector,
{mouseenter:function(){if(i&&this===g)i.cancel();else return g=this,k.trigger(f.getUrl(this),this),b=!1},mouseleave:function(){b=!0;k.cancel();i&&i.trigger()}})};
StackExchange.tagmenu=function(){function f(e){var e=$(e),b=e.attr("href");if(!b||"/"!=b.charAt(0))return null;b=e.text();if(-1<b.indexOf("*"))return null;e.attr("title","");return"/tags/"+encodeURIComponent(b)+"/subscriber-info"}function d(e,b){var d=$(e),g=d.offset(),h=d.outerHeight(),d={left:g.left},f=g.top+h,h=g.left+b.outerWidth();b.height()+f>$(window).height()+$(window).scrollTop()?d.bottom=$(window).height()-g.top-8:d.top=f;g=Math.max(1024,$(window).width());h>g&&(d.left-=h-g);return d}var e,
g;return{init:function(i){e=i;g||(g=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag)",id:"tag-menu",getUrl:f,showing:d,shown:function(b,d){e&&e(d,$(b).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function f(e,b){var d=$(e).find("img:first"),f=d.offset(),h=d.height(),m=d.width(),c=Math.max(m,h),a=64*h/c,c=64*m/c,j=b.find("img:first").css({width:c,height:a}),n=j.offset();j.css("visibility","hidden");g=d.clone().css({position:"absolute",zIndex:1003,left:f.left,top:f.top,width:m,height:h}).appendTo("body");var o=function(){j[0].complete?(j.css("visibility","visible"),g.fadeOutAndRemove()):setTimeout(o,500)};g.animate({width:c,height:a,top:f.top+n.top},200,o);
return{top:f.top,left:f.left-n.left,additional:g}}function d(){g.remove()}var e,g;return{init:function(){e||(e=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(e){e=/\/users\/([^/]+).*$/.exec($(e).closest(".user-hover").find(".user-details a").attr("href"));return!e?null:"/users/user-info/"+e[1]},cache:!0,id:"user-menu",showing:f,removed:d}))}}}();
StackExchange.chatAd=function(){function f(){var a=$(".question .post-taglist .post-tag");return!a.length?null:a.map(function(a,c){return $(c).text()}).get().join(" ")}function d(a){return 10>a?"0"+a:a}function e(a){var c=new Date;c.setTime(1E3*a);return[c.getUTCFullYear(),"-",d(c.getUTCMonth()+1),"-",d(c.getUTCDate())," ",d(c.getUTCHours()),":",d(c.getUTCMinutes()),":",d(c.getUTCSeconds()),"Z"].join("")}function g(a){var c=Math.floor((new Date).getTime()/1E3)-a,b=c%60,e=Math.floor(c/60),j=Math.floor(c/
3600);if(1>c)return"just now";if(60>c)return 1==b?"1 sec ago":b+" secs ago";if(3600>c)return 1==e?"1 min ago":e+" mins ago";if(86400>c)return 1==j?"1 hour ago":j+" hours ago";c=Math.floor(c/86400);if(1==c)return"yesterday";if(2>=c)return c+" days ago";a=new Date(1E3*a);return o[a.getMonth()]+" "+a.getDate()+" at "+a.getHours()+":"+d(a.getMinutes())}function i(a){var c=$("<div />");c.text(a);return c.html().replace('"',"&quot;")}function b(){$.get(c,null,function(a,c,b){h(a,c,b)})}function l(a){for(var c=
$('<div class="ad502-users" />'),b=0;b<a.length&&7>b;b++){var e=a[b],d=e.name;e.lastPost&&(d+=": "+g(e.lastPost));var j="http://www.gravatar.com/avatar/"+e.emailhash+"?s=23&d=identicon&r=PG",e=$('<a href="'+(m+"/users/"+e.id)+'" />');$("<img />").attr("title",d).attr("src",j).appendTo(e);c.append(e)}return c}function k(a){var c=a.user;return(a=a.userid)?'<a href="'+m+"/users/"+a+'">'+i(c)+"</a>":i(c)}function h(c){var d=$("#ad502-rooms");if(!c.error){d.html("");for(var h=c.rooms,f=0;f<h.length&&2>
f;f++){var o=h[f],s=m+"/rooms/"+o.id,t=$('<div class="ad502-room"></div>');t.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+i(o.name)+'"><a href="'+s+'">'+i(o.name)+"</a></span></h3>"));o.messages&&0<o.messages.length&&t.append($('<span title="'+e(o.lastPost)+'" class="ad502-last-message">'+g(o.lastPost)+" - "+k(o.messages[0])+"</span><br>"));o.singleImage?t.append($('<div class="ad502-users"><img src="'+m+"/rooms/users/"+o.id+'.jpeg" /></div>')):t.append(l(o.users));
d.append(t)}1<c.activeUsers?$("#h-chat-link").text(c.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",c.activeUsers+" users active in "+c.activeRooms+" rooms the last 60 minutes")}a<=n&&window.setTimeout(b,1E3*a);a+=j}var m,c,a=180,j=30,n=480,o="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");/^\/questions\/\d+/i.test(window.location.pathname)&&(n=0);return{init:function(a){m=a.chatUrl;c=a.reloadUrl;if(a.tagBased){var e=f();if(!e)return;
c+=(/\?/.test(c)?"&":"?")+"tags="+encodeURIComponent(e)}null===a.preloadData?b():h(a.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var f={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105\u0250\u1d44\u1d9b":"a","\u00e6\u01e3\u01fd\u1d02\u1d46":"ae","\u00e7\u0107\u010d\u0109":"c","\u0111\u018d\u00f0\u00d0":"d","\u00e8\u00e9\u00ea\u00eb\u0119\u01dd\u1d08\u1d4c":"e","\u214e":"f","\u011f\u011d\u1d77":"g","\u0125\u0265\u02ae\u1da3":"h","\u00ec\u00ed\u00ee\u00ef\u0131\u1d09\u1d4e":"i","\u0135":"j","\u029e":"k","\u0142":"l","\u026f\u0270\u1d5a\u1dad\u1d1f":"m","\u00f1\u0144":"n","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o",
"\u0153\u0276\u1d14":"oe","\u0159\u0279\u027a\u027b\u02b4\u02b5":"r","\u015b\u015f\u0161\u015d":"s","\u00df":"ss","\u0287":"t","\u00de":"th","\u00f9\u00fa\u00fb\u00fc\u016d\u016f":"u","\u028c\u1dba":"v","\u028d":"w","\u00fd\u0178\u00ff\u028e":"y","\u017c\u017a\u017e":"z"};return function(d){for(var e in f)f.hasOwnProperty(e)&&(d=d.replace(RegExp("["+e+"]","g"),f[e]));return d}}();
function sanitizeAndSplitTags(f,d){for(var f=$.trim(f).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),e=f.split(/[\s|,;]+/),g=[],i=0;i<e.length;i++){var b=e[i].toLowerCase();StackExchange.options.site.nonAsciiTags||(b=StackExchange.helpers.noDiacritics(b));b=b.replace(/_/g,"-");b=b.replace(RegExp("[^a-z0-9.#+"+(d?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,\u00aa,\u00b5,\u00ba,\u00c0-\u00d6,\u00d8-\u00f6,\u00f8-\u02c1,\u02c6-\u02d1,\u02e0-\u02e4,\u02ec,\u02ee,\u0370-\u0374,\u0376-\u0377,\u037a-\u037d,\u0386,\u0388-\u038a,\u038c,\u038e-\u03a1,\u03a3-\u03f5,\u03f7-\u0481,\u048a-\u0523,\u0531-\u0556,\u0559,\u0561-\u0587,\u05d0-\u05ea,\u05f0-\u05f2,\u0621-\u064a,\u0660-\u0669,\u066e-\u066f,\u0671-\u06d3,\u06d5,\u06e5-\u06e6,\u06ee-\u06fc,\u06ff,\u0710,\u0712-\u072f,\u074d-\u07a5,\u07b1,\u07c0-\u07ea,\u07f4-\u07f5,\u07fa,\u0904-\u0939,\u093d,\u0950,\u0958-\u0961,\u0966-\u096f,\u0971-\u0972,\u097b-\u097f,\u0985-\u098c,\u098f-\u0990,\u0993-\u09a8,\u09aa-\u09b0,\u09b2,\u09b6-\u09b9,\u09bd,\u09ce,\u09dc-\u09dd,\u09df-\u09e1,\u09e6-\u09f1,\u0a05-\u0a0a,\u0a0f-\u0a10,\u0a13-\u0a28,\u0a2a-\u0a30,\u0a32-\u0a33,\u0a35-\u0a36,\u0a38-\u0a39,\u0a59-\u0a5c,\u0a5e,\u0a66-\u0a6f,\u0a72-\u0a74,\u0a85-\u0a8d,\u0a8f-\u0a91,\u0a93-\u0aa8,\u0aaa-\u0ab0,\u0ab2-\u0ab3,\u0ab5-\u0ab9,\u0abd,\u0ad0,\u0ae0-\u0ae1,\u0ae6-\u0aef,\u0b05-\u0b0c,\u0b0f-\u0b10,\u0b13-\u0b28,\u0b2a-\u0b30,\u0b32-\u0b33,\u0b35-\u0b39,\u0b3d,\u0b5c-\u0b5d,\u0b5f-\u0b61,\u0b66-\u0b6f,\u0b71,\u0b83,\u0b85-\u0b8a,\u0b8e-\u0b90,\u0b92-\u0b95,\u0b99-\u0b9a,\u0b9c,\u0b9e-\u0b9f,\u0ba3-\u0ba4,\u0ba8-\u0baa,\u0bae-\u0bb9,\u0bd0,\u0be6-\u0bef,\u0c05-\u0c0c,\u0c0e-\u0c10,\u0c12-\u0c28,\u0c2a-\u0c33,\u0c35-\u0c39,\u0c3d,\u0c58-\u0c59,\u0c60-\u0c61,\u0c66-\u0c6f,\u0c85-\u0c8c,\u0c8e-\u0c90,\u0c92-\u0ca8,\u0caa-\u0cb3,\u0cb5-\u0cb9,\u0cbd,\u0cde,\u0ce0-\u0ce1,\u0ce6-\u0cef,\u0d05-\u0d0c,\u0d0e-\u0d10,\u0d12-\u0d28,\u0d2a-\u0d39,\u0d3d,\u0d60-\u0d61,\u0d66-\u0d6f,\u0d7a-\u0d7f,\u0d85-\u0d96,\u0d9a-\u0db1,\u0db3-\u0dbb,\u0dbd,\u0dc0-\u0dc6,\u0e01-\u0e30,\u0e32-\u0e33,\u0e40-\u0e46,\u0e50-\u0e59,\u0e81-\u0e82,\u0e84,\u0e87-\u0e88,\u0e8a,\u0e8d,\u0e94-\u0e97,\u0e99-\u0e9f,\u0ea1-\u0ea3,\u0ea5,\u0ea7,\u0eaa-\u0eab,\u0ead-\u0eb0,\u0eb2-\u0eb3,\u0ebd,\u0ec0-\u0ec4,\u0ec6,\u0ed0-\u0ed9,\u0edc-\u0edd,\u0f00,\u0f20-\u0f29,\u0f40-\u0f47,\u0f49-\u0f6c,\u0f88-\u0f8b,\u1000-\u102a,\u103f-\u1049,\u1050-\u1055,\u105a-\u105d,\u1061,\u1065-\u1066,\u106e-\u1070,\u1075-\u1081,\u108e,\u1090-\u1099,\u10a0-\u10c5,\u10d0-\u10fa,\u10fc,\u1100-\u1159,\u115f-\u11a2,\u11a8-\u11f9,\u1200-\u1248,\u124a-\u124d,\u1250-\u1256,\u1258,\u125a-\u125d,\u1260-\u1288,\u128a-\u128d,\u1290-\u12b0,\u12b2-\u12b5,\u12b8-\u12be,\u12c0,\u12c2-\u12c5,\u12c8-\u12d6,\u12d8-\u1310,\u1312-\u1315,\u1318-\u135a,\u1380-\u138f,\u13a0-\u13f4,\u1401-\u166c,\u166f-\u1676,\u1681-\u169a,\u16a0-\u16ea,\u1700-\u170c,\u170e-\u1711,\u1720-\u1731,\u1740-\u1751,\u1760-\u176c,\u176e-\u1770,\u1780-\u17b3,\u17d7,\u17dc,\u17e0-\u17e9,\u1810-\u1819,\u1820-\u1877,\u1880-\u18a8,\u18aa,\u1900-\u191c,\u1946-\u196d,\u1970-\u1974,\u1980-\u19a9,\u19c1-\u19c7,\u19d0-\u19d9,\u1a00-\u1a16,\u1b05-\u1b33,\u1b45-\u1b4b,\u1b50-\u1b59,\u1b83-\u1ba0,\u1bae-\u1bb9,\u1c00-\u1c23,\u1c40-\u1c49,\u1c4d-\u1c7d,\u1d00-\u1dbf,\u1e00-\u1f15,\u1f18-\u1f1d,\u1f20-\u1f45,\u1f48-\u1f4d,\u1f50-\u1f57,\u1f59,\u1f5b,\u1f5d,\u1f5f-\u1f7d,\u1f80-\u1fb4,\u1fb6-\u1fbc,\u1fbe,\u1fc2-\u1fc4,\u1fc6-\u1fcc,\u1fd0-\u1fd3,\u1fd6-\u1fdb,\u1fe0-\u1fec,\u1ff2-\u1ff4,\u1ff6-\u1ffc,\u203f-\u2040,\u2054,\u2071,\u207f,\u2090-\u2094,\u2102,\u2107,\u210a-\u2113,\u2115,\u2119-\u211d,\u2124,\u2126,\u2128,\u212a-\u212d,\u212f-\u2139,\u213c-\u213f,\u2145-\u2149,\u214e,\u2183-\u2184,\u2c00-\u2c2e,\u2c30-\u2c5e,\u2c60-\u2c6f,\u2c71-\u2c7d,\u2c80-\u2ce4,\u2d00-\u2d25,\u2d30-\u2d65,\u2d6f,\u2d80-\u2d96,\u2da0-\u2da6,\u2da8-\u2dae,\u2db0-\u2db6,\u2db8-\u2dbe,\u2dc0-\u2dc6,\u2dc8-\u2dce,\u2dd0-\u2dd6,\u2dd8-\u2dde,\u2e2f,\u3005-\u3006,\u3031-\u3035,\u303b-\u303c,\u3041-\u3096,\u309d-\u309f,\u30a1-\u30fa,\u30fc-\u30ff,\u3105-\u312d,\u3131-\u318e,\u31a0-\u31b7,\u31f0-\u31ff,\u3400-\u4db5,\u4e00-\u9fc3,\ua000-\ua48c,\ua500-\ua60c,\ua610-\ua62b,\ua640-\ua65f,\ua662-\ua66e,\ua67f-\ua697,\ua717-\ua71f,\ua722-\ua788,\ua78b-\ua78c,\ua7fb-\ua801,\ua803-\ua805,\ua807-\ua80a,\ua80c-\ua822,\ua840-\ua873,\ua882-\ua8b3,\ua8d0-\ua8d9,\ua900-\ua925,\ua930-\ua946,\uaa00-\uaa28,\uaa40-\uaa42,\uaa44-\uaa4b,\uaa50-\uaa59,\uac00-\ud7a3,\uf900-\ufa2d,\ufa30-\ufa6a,\ufa70-\ufad9,\ufb00-\ufb06,\ufb13-\ufb17,\ufb1d,\ufb1f-\ufb28,\ufb2a-\ufb36,\ufb38-\ufb3c,\ufb3e,\ufb40-\ufb41,\ufb43-\ufb44,\ufb46-\ufbb1,\ufbd3-\ufd3d,\ufd50-\ufd8f,\ufd92-\ufdc7,\ufdf0-\ufdfb,\ufe33-\ufe34,\ufe4d-\ufe4f,\ufe70-\ufe74,\ufe76-\ufefc,\uff10-\uff19,\uff21-\uff3a,\uff3f,\uff41-\uff5a,\uff66-\uffbe,\uffc2-\uffc7,\uffca-\uffcf,\uffd2-\uffd7,\uffda-\uffdc":
"")+"-]","g"),"");b=b.replace(/^[#+-]+/,"");b=b.replace(/[.-]+$/,"");0<b.length&&-1==$.inArray(b,g)&&g.push(b)}return g}
StackExchange.question=function(){var f=function(c,a){var b=null!=c;c||(c=$("div.question div.post-menu a.short-link"));var e=c.closest(".post-menu, .help-menu");if(c.hasClass("share-link"))e.find(".close-share-tip").click();else{c.addClass("share-link");var d=c.attr("id").substring(10),h=c.closest(".col-section").length?"section":c.closest("div.question").length?"question":"answer",g="http://"+document.location.host+c.attr("href"),f=("answer"==h?"Answer: ":"")+$("#question-header a").text(),i='<div class="share-tip" style="display:none">share a link to this '+
h+'<input type="text" value="'+g+'" style="display:block; width:292px;">';StackExchange.options.site.enableSocialMediaInSharePopup&&(i+='<div id="share-icons"><a id="share-gp-'+d+'" class="share-gp" title="share link to this '+h+' on Google+">share [g+]</a><a id="share-fb-'+d+'" class="share-fb" title="share link to this '+h+' on Facebook">share [fb]</a><a id="share-tw-'+d+'" class="share-tw" title="share link to this '+h+' on Twitter">share [tw]</a></div>');var k=$(i+'<a class="close-share-tip" style="float:right">close</a></div>');
StackExchange.options.site.enableSocialMediaInSharePopup&&(h=encodeURIComponent(g),f=encodeURIComponent(f),StackExchange.share.gplus($("#share-gp-"+d,k),h,f,"2"),StackExchange.share.facebook($("#share-fb-"+d,k),h,f,"2"),StackExchange.share.twitter($("#share-tw-"+d,k),h,f,"2"),$("#share-icons a",k).click(function(){k.fadeOutAndRemove()}));a&&k.find(".close-share-tip").before('<a id="link-post-'+d+'" style="float:left">cite</a>');k.appendTo(e).fadeIn(b?"fast":0).bind("removing",function(){c.removeClass("share-link")}).find(".close-share-tip").click(function(){k.fadeOutAndRemove()}).end().find("input[type=text]").select()}},
d=function(c){var a=$("#post-form h2:first"),b=a.wrap("<div />").parent(),e=b.wrap("<div />").parent(),d=$("<div />").prependTo(e),h=e.height(),g=$("<div />"),c=$(c),f=parseInt(a.css("margin-bottom")),i=$("#content"),k=$("#wmd-input").outerWidth(),m=i.offset().left>a.offset().left-5&&"visible"!=i.css("overflow-x");g.css({height:0,overflowY:"hidden"}).appendTo(b).append(c);e.css({height:h,position:"relative"});b.css({position:"absolute",bottom:-f,width:k});d.addClass("answer-help-background").css({position:"absolute",
bottom:-f,height:0,width:k});m&&(d.css("left",0),b.animate({paddingLeft:5},1E3));g.animate({height:c.height()+f+10},1E3);d.animate({height:c.height()+f+10+h},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(b).fadeIn(1E3).find("a").one("click",function(c){var e=$(this).parent();setTimeout(function(){e.remove()},1);g.animate({height:0},1E3,function(){g.add(d).remove();a.unwrap().unwrap()});d.animate({height:0},1E3);m&&b.animate({paddingLeft:0},1E3);c.preventDefault()})},
e=function(){$.get("/posts/answer-help").then(d)},g,i,b,l=function(){var c=window.location.href;0>c.indexOf("#")||(c=c.match(/#(\d+|comment(\d+)_(\d+))/i))&&(c[2]?k(c[2],c[3]):h($(".answer[data-answerid="+c[1]+"]")))},k=function(c,a){var b="#comment-"+c,e=$(b);e.length?h(e):StackExchange.comments.loadAll($("#comments-link-"+a)).done(function(){h($(b))})},h=function(c){var a=b;c.css({backgroundColor:g}).animate({backgroundColor:a},2E3,"linear",function(){$(this).css("background-color","")});c.is(".comment")&&
c[0].scrollIntoView(!0)},m=function(c){c=c||{};$(".post-menu a.short-link").live("click",function(a){if(!a.ctrlKey&&!a.metaKey)return f($(this),c.showCitation),!1})};return{initTitleSearch:function(c,a,b){var e=document.title,d=0,h;c.attr("autocomplete","off");var g=function(g){var f=c.val();if(!(f==h&&!0!==g||StackExchange.options.site.newTitleSearchBoxEnabled&&0<$(".title-float-selected:visible").length)){for(var i=f.split(" "),k=0,m=0;m<i.length;m++)0<$.trim(i[m]).length&&k++;i=(new Date).getTime();
m=(i-d)/1E3;!0!==g&&(3>k||5>m)&&!c.hasClass("edit-field-overlayed")||(d=i,h=f,b&&(document.title=f?f+" - "+b:e),a.empty(),StackExchange.helpers.addSpinner(a),a.load("/search/titles?like="+escape(f),null,function(c){/\<label\>/i.exec(c)||(d=0);setTimeout(function(){a.find(".answer-link a").attr("target","_blank")},1)}))}},f=!1;a.mouseenter(function(){f=!0}).mouseleave(function(){f=!1});c.keyup(g).blur(function(){var c=function(){d=0;g()};if(f)a.one("mouseleave",c);else c()});return function(a){d=0;
g(a)}},showShareTip:f,getQuestionId:function(c){c=(c?c.closest(".question"):$(".question")).data("questionid");if(!c)throw Error("getQuestionId could not find an id");return c},highlightComment:k,initShareLinks:m,canViewVoteCounts:function(){return i},init:function(c){StackExchange.question.fullInit?StackExchange.question.fullInit(c):StackExchange.question.bindAnonymousVoteDisclaimers();StackExchange.comments.init({autoShowCommentHelp:c.autoShowCommentHelp});c.showShareTip&&f();m(c);if(c.showAnswerHelp)$("#wmd-input").one("focus",
e);c.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});b=c.backgroundColor;g=c.highlightColor;i=c.canViewVoteCounts;l(c)}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function f(d){var e=$(this),g=e.closest("div.vote"),f=e.prop("className"),b=/vote-up/.test(f),l=/vote-down/.test(f),f=/star/.test(f);d.preventDefault();if(b||l)if(d=g.find("input").val(),StackExchange.options.isMobile)StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+d+"?voteTypeId="+(b?2:3)),b='Thank you for your feedback.<br />Please <a href="/users/login?returnurl='+escape(document.location)+'">log in or register</a> to vote for this '+
(e.closest(".answer").length?"answer":"question")+".",StackExchange.helpers.showErrorPopup(e,b,{type:"help",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}});else{if(e="anon-vote-popup-"+d,!g.is(":working")&&!$("."+e).length){g.data("working",!0);$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeErrorPopup();var k=$('<div class="anon-vote-popup popup">Sending feedback&nbsp;</div>').addClass(e).addSpinner();k.appendTo("body").center().fadeIn("fast");$.ajax({type:"POST",
url:"/posts/popup/anon-vote/"+d+"?voteTypeId="+(b?2:3),dataType:"html",success:function(b){k.html(b)},error:function(){k.remove()},complete:function(){g.data("working",!1)}})}}else f&&($(".anon-vote-popup").fadeOutAndRemove(),b='Please <a href="/users/login?returnurl='+escape(document.location)+'">log in or register</a> to favorite this '+(e.closest(".answer").length?"answer":"question")+".",StackExchange.helpers.showErrorPopup(e,b,{type:"help",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}}))}
$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var d=$(this);d.data("bound-anonymous")||(d.data("bound-anonymous",!0),d.click(f))});StackExchange.question.bindFetchAcceptedAnswerDates()};
StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var f=$(this);if(!f.is(":working")){f.working(!0);var d=f.closest(".answer").data("answerid");d?$.get("/posts/"+d+"/accepted-answer-date",function(e){f.attr("title",e)}):f.attr("title","")}})};
StackExchange.comments=function(){function f(b,e){this.postId=b;this.jDiv=e;this.jCommentsLink=$("#comments-link-"+b)}function d(b){var e=(b.constructor===$?b:$(b)).closest(".question, .answer, div[id^='post-']").find(".comments"),b=e.attr("id").replace(/^comments-/,"");if(g[b])return g[b];e=new f(b,e);return g[b]=e}function e(){if(0!=$(".question[data-questionid]").length){var b=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var e=$(this),d=e.closest(".answer"),
d=d&&d.length?d.data("answerid"):0,h=e.closest(".comment").attr("id").substr(8);e.wrap('<a class="comment-link" onclick="StackExchange.question.highlightComment({cid}, {aid})" href="{hash}"></a>'.format({hash:"#comment"+h+"_"+(d?d:b),cid:h,aid:d}))})}}var g={},i=function(){};f.prototype={checkDiscussion:i,ensureInput:i,saveEditingComments:i,restoreEditingComments:i,commentsShown:function(){this.jCommentsLink.hide();this.jCommentsLink.data("comments-count",0)},addShow:function(b){var e=this;this.loadAllComments().done(function(){e.jCommentsLink.hide();
e.checkDiscussion()});var d=this.ensureInput();d&&!b&&d.focus()},ajax:function(b,e,d,h){d&&!h&&StackExchange.helpers.addSpinner(d,{"margin-left":"10px"});var g=this;return $.ajax(b).fail(function(c){StackExchange.helpers.removeErrorPopup();c=c.responseText;if(!c||100<=c.length)c="An error occured"+(e?" "+e:"");StackExchange.helpers.showErrorPopup(d||g.jDiv,c);d&&!h&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},showComments:function(b,d){this.saveEditingComments(d);
this.jDiv.find(" > table > tbody").html(b);this.restoreEditingComments();this.jCommentsLink.text("add comment");"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);e();this.commentsShown()},loadAllComments:function(b){this.jDiv.removeClass("dno");if(!b&&!/more comment/.test($("#comments-link-"+this.postId).text()))return $.Deferred().resolve().promise();var e=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments",dataType:"html"},"while fetching comments").done(function(b){e.showComments(b)}).promise()}};
return{init:function(b){b=b&&b.post||document;$("a[id^='comments-link-']",b).click(function(){var b=/more comment/.test($(this).text());d(this).addShow(b)});b==document&&e()},loadAll:function(b){return d(b).loadAllComments(!0)},extendPostUi:function(b){for(var e in b)b.hasOwnProperty(e)&&(f.prototype[e]=b[e])},uiForPost:d}}();
StackExchange.share=function(){function f(e,d,f){window.open(e,d,f)||(window.location.href=e)}function d(e,d,f){var d=d+("="+("undefined"!==typeof f?f:"1")),f=e.indexOf("?"),b=e.indexOf("#");return-1==f?-1==b?e+"?"+d:e.substring(0,b)+"?"+d+e.substring(b):-1==b?e+"&"+d:e.substring(0,b)+"&"+d+e.substring(b)}return{gplus:function(e,g,i,b){g=d(g,"sgp",b);e.click(function(){f("https://plus.google.com/share?url="+g,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(e,
g,i,b){g=d(g,"stw",b);e.click(function(){f("http://twitter.com/share?url="+g+"&ref=twitbtn&text="+i,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(e,g,i,b){g=d(g,"sfb",b);e.click(function(){f("http://www.facebook.com/sharer.php?u="+g+"&ref=fbshare&t="+i,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(f,d){window.tagRenderer||(window.tagRendererRaw=function(e,g,i){var g=g||"",i=i||"a",b="";g||(f&&-1<$.inArray(e,f)?b=" required-tag":d&&-1<$.inArray(e,d)&&(b=" moderator-tag"));b="<"+i+" class='post-tag"+b+"'";"a"===i.toLowerCase()&&(b+=" href='"+g+"/questions/tagged/"+encodeURIComponent(e)+"' title=\"show questions tagged '"+e+"'\" rel='tag'");return b+(">"+e+"</"+i+">")},window.tagRenderer=function(e,d,f){return $(tagRendererRaw(e,d,f))})}
function showFadingHelpText(f){f.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var f={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title","wmd-input-42":"#how-to-format"},d=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),e=function(e){return $(e).parent().hasClass("tag-editor")?f["tag-editor"]:f[$(e).attr("id")]};d.focus(function(){var g=e(this);d.each(function(){var b=e(this);b!=g&&$(b).hide()});var f=$(g);f.is(":visible")||showFadingHelpText(f)})}
$.fn.extend({postId:function(){var f=this.first();if(!f.hasClass("answer")||!f.hasClass("question"))f=f.closest(".answer, .question");return parseInt(f.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function f(e){e=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append('<div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>').append(e);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");e.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function d(){var e=
StackExchange.options.site.name,d=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">Subscribe to the '+e+" weekly newsletter</h2>",'<p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">Create an account on '+e+'</a> or <a href="/users/login?returnurl=/newsletter/signup/redirect">log in</a> if you already have one.</strong></p>','<form><label for="newsletter-email-input">Or, send newsletter emails to:</label> <input type="text" id="newsletter-email-input" maxlength="100" title="your email address" /> <input type="submit" value="Subscribe" id="newsletter-email-submit" /></form>',
$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));d.find("form").submit(function(){var e=$(this),b=$.trim(d.find("#newsletter-email-input").val());if(0==b.length)return!1;StackExchange.helpers.addSpinner(e);$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:b},success:function(b){"confirmed"==b.status&&!b.error?(e.find("#newsletter-email-input").attr("disabled",!0),e.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),
$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):"unconfirmed"==b.status&&!b.error?(e.find("#newsletter-email-input").attr("disabled",!0),e.find("#newsletter-email-submit").replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),e.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):
e.showErrorPopup(b.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){e.showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner(e)}});return!1});f(d)}return{init:function(){$("#newsletter-signup").click(function(){var e=$(this);if(StackExchange.options.user.isAnonymous)return d(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");
$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(d){d.url?window.location.href=d.url:"confirmed"==d.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==d.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},
error:function(){e.parent().showErrorPopup("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var e=$(window).height(),e=Math.min(600,e-100),e=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',e,'px;"><iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',e,'" frameborder="0"></iframe></div>'].join("");
f(e);return!1})},loader:function(e,d){var e=d||e,f=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",data:{domain:e},success:function(b){$("#newsletter-ad").remove();f.empty().append($(b))},complete:function(){f.attr("class","").attr("style","")}});d||(window.sessionStorage.tNewsletter=e+"-continued")}}}();
(function(f,d,e,g){var i=!("selectionStart"in f("<input type='text' />")[0]);f.fn.caret=function(b,f){var k,h,m=this[0];if("object"===typeof b&&"number"===typeof b.start&&"number"===typeof b.end)k=b.start,h=b.end;else if("number"===typeof b&&"number"===typeof f)k=b,h=f;else if("string"===typeof b)-1<(k=m.value.indexOf(b))?h=k+b[d]:k=null;else if("[object RegExp]"===Object.prototype.toString.call(b)){var c=b.exec(m.value);null!=c&&(k=c.index,h=k+c[0][d])}if("undefined"!=typeof k)return i?(c=this[0].createTextRange(),
c.collapse(!0),c.moveStart("character",k),c.moveEnd("character",h-k),c.select()):(this[0].selectionStart=k,this[0].selectionEnd=h),this[0].focus(),this;if(i)if(h=document.selection,"textarea"!=this[0].tagName.toLowerCase()){c=this.val();k=h[e]()[g]();k.moveEnd("character",c[d]);var a=""==k.text?c[d]:c.lastIndexOf(k.text);k=h[e]()[g]();k.moveStart("character",-c[d]);var j=k.text[d]}else k=h[e](),h=k[g](),h.moveToElementText(this[0]),h.setEndPoint("EndToEnd",k),a=h.text[d]-k.text[d],j=a+k.text[d];else a=
m.selectionStart,j=m.selectionEnd;k=m.value.substring(a,j);return{start:a,end:j,text:k,replace:function(c){return m.value.substring(0,a)+c+m.value.substring(j,m.value[d])}}}})(jQuery,"length","createRange","duplicate");
StackExchange.captcha=function(){return{init:function(f,d){function e(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var g=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;"><div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>',f,"</div>"].join("")),i=g.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");g.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(e);
$.getScript("http://api.recaptcha.net/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{theme:"clean",callback:Recaptcha.focus_response_field});StackExchange.helpers.enableSubmitButton(i);i.submit(function(){StackExchange.helpers.disableSubmitButton(i);i.find('input[type="submit"]').addSpinnerAfter();$.ajax({url:"/captcha",type:"POST",dataType:"json",data:i.serialize(),success:function(b){b.captchaError?(StackExchange.helpers.removeSpinner(),
StackExchange.helpers.enableSubmitButton(i),i.find(".form-error").html(b.captchaError),Recaptcha.reload()):(e(),d(b))},error:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(i);StackExchange.helpers.showErrorPopup(i,"An error occurred submitting the CAPTCHA")}});return!1})})}}}();
StackExchange.gps=function(){function f(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(b,d){e(d)}),delete StackExchange._gps_track)}function d(){var e=localStorage[b];return!e?[]:JSON.parse(e)}function e(e){var d=localStorage[b];d?(d=JSON.parse(d),d.push(e),localStorage[b]=JSON.stringify(d)):localStorage[b]=JSON.stringify([e])}function g(e){var d=localStorage[b];if(d){for(var d=JSON.parse(d),e=JSON.stringify(e),f=-1,c=0;c<d.length;c++){var a=JSON.stringify(d[c]);if(e==a){f=
c;break}}-1!=f&&(d.splice(f,1),0==d.length?localStorage.removeItem(b):localStorage[b]=JSON.stringify(d))}}function i(b){$.isArray(b)||(b=[b]);$.ajax({type:"POST",url:"/gps/event",data:JSON.stringify(b),success:function(){for(var d=0;d<b.length;d++)g(b[d])}})}var b="gps-pending",l=!1;return{init:function(b){if(l)return!0;l=!0;if(!b||!window.localStorage)return StackExchange.gps.track=function(){},delete StackExchange._gps_track,!1;f();b=d();if(0<b.length){for(var e=(new Date).getTime(),m=[],c=0;c<
b.length;c++){var a=b[c],j=e-a.now;if(0>j||36E5<j||10<c){g(a);return}m.push(a)}0<m.length&&i(m)}return!0},track:function(b,d,f){d=d||{};b={evt:b,properties:d,now:(new Date).getTime()};e(b);f||i(b)}}}();
StackExchange.openid=function(){function f(b){b&&StackExchange.gps.track("openid.click",{OpenIdProvider:b,oidclick_location:l},!0)}function d(b,d){var c=d.find(".option-extra-fields");c.hide();d.find(".yahoo-button").click(function(){c.hide();e(b,"yahoo")});var a=function(a){var f="."+a+"-option";c.show();c.find("> div:not("+f+")").hide();c.find(f+", .extra-field-container").show();d.find(".extra-field").val("").focus();f=d.find(".extra-field-submit");f.unbind("click");f.click(function(){e(b,a,d.find(".extra-field").val())})};
d.find(".blogger-button").click(function(){a("blogger")});d.find(".aol-button").click(function(){a("aol")})}function e(b,d,c){d=k[d];c&&(d=d.replace("{username}",c));b.find(".use-facebook").val("false");b.find(".manual-openid").val(d);b.find(".submit-openid").click()}function g(b){b.find(".use-facebook").val("true");b.find(".manual-openid").val("");b.find(".submit-openid").click()}function i(b){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(b)})}}
function b(b,d,c,a){var e=b.find(".manual-openid").val();b.find(".use-facebook").val();i(function(){var b=$('<form method="post" action="/users/authenticate?returnurl='+encodeURIComponent(d)+'"></form>');if(e){var f=$('<input type="hidden" name="openid_identifier" />');b.append(f);f.val(e)}else{var f=$('<input type="hidden" name="oauth_version" />'),g=$('<input type="hidden" name="oauth_server" />');b.append(f);b.append(g);f.val("2.0");g.val("https://www.facebook.com/dialog/oauth")}b.append("<input type='hidden' name='fkey' value='"+
StackExchange.options.user.fkey+"' />");c&&a&&($('<input type="hidden" name="anon_vote_type" />').val(c).appendTo(b),$('<input type="hidden" name="anon_vote_hash" />').val(a).appendTo(b));StackExchange.navPrevention.stop();b.hide().appendTo("body").submit()})()}var l="unknown",k={yahoo:"http://yahoo.com/",google:"https://www.google.com/accounts/o8/id",aol:"http://openid.aol.com/{username}",blogger:"http://{username}.blogspot.com/"};return{initPostLogin:function(h,k){var c=decodeURIComponent(k);"/questions/ask"===
c&&(l="question_ask");var a=$(h),j=a.find(".new-login-left"),n=a.find(".new-login-right"),o=j.find(".show-more-options");o.click(function(){o.hide();n.show();return!1});n.find(".hide-more-options").click(function(){o.show();n.hide();return!1});a.removeClass("dno");d(a,n);j.find(".google-login").click(function(){f("Google");e(a,"google")});j.find(".facebook-login").click(function(){f("Facebook");g(a)});j.find(".stackexchange-login").click(i(function(){f("Stack Exchange");StackExchange.navPrevention.stop();
window.location="/users/login#create-account"}));a.find(".submit-openid").click(function(){b(a,c)})},initAnonVotePopup:function(d,i,c,a){var j=decodeURIComponent(i);l="votedialog";d.find(".google-login").click(function(){f("Google");e(d,"google")});d.find(".facebook-login").click(function(){f("Facebook");g(d)});d.find(".stackexchange-login").click(function(){f("Stack Exchange");window.location="/users/login#create-account"});d.find(".submit-openid").click(function(){b(d,j,c,a)})}}}();
StackExchange.loggedIn={};
var profileLink=function(){var f,d,e,g=!1,i,b,l,k=!1,h=function(){return $(".profile-link")},m=function(a){a||(a=h());return a.hasClass("profile-link-on")},c=function(a,b){b.toggleClass("profile-link-on",a);$(".profile-triangle").toggleClass("profile-triangle-on",a)},a=function(a){if(!a.data("loading")){a.data("loading",!0);var b=a.find(".profile-stats");b.addSpinner();$.ajax({type:"GET",url:"/users/profile-link-stats",dataType:"html",success:function(a){$(a).hide().appendTo(b).fadeIn("fast")},error:function(){a.data("loading",
!1)},complete:StackExchange.helpers.removeSpinner})}},j=function(){var a=new Date;a.setTime(a.getTime()+1E3*l);var b=a.getUTCHours(),a=a.getUTCMinutes();10>b&&(b="0"+b);10>a&&(a="0"+a);$(".profile-popup .popup-clock").text("UTC time "+b+":"+a)},n=StackExchange.helpers.DelayedReaction(function(){profileLink.show()},450,{always:function(){o.cancel()}}),o=StackExchange.helpers.DelayedReaction(function(){profileLink.hide()},1E3,{always:function(){n.cancel()}}),p=function(a){a.hover(n.trigger,o.trigger)};
return{init:function(a,b,c,e){var j=h(),n=$(".profile-triangle");f=j.attr("href");d=a;g=b;i=c;k="/users/logout"==$(location).attr("pathname");l=e||0;n.click(profileLink.click);b||p(j.add(n));$(document).click(function(a){m(j)&&a.target!=j[0]&&a.target!=n[0]&&!$.contains($(".profile-wrapper")[0],a.target)&&profileLink.hide()})},click:function(){var a=h();o.cancel();n.cancel();m(a)?profileLink.hide():profileLink.show()},show:function(n,o){if(!n||"number"==typeof n)n=h();o||(o=$(".profile-popup"));if(!o.length){var l=
n,u=$('<div class="profile-popup" style="position:absolute; display:none;"><div class="profile-wrapper"><div class="profile-gravatar"><a href="'+f+'">'+d+'</a><ul class="profile-links"><li><a href="'+i+'">activity</a></li>'+(l.hasClass("child-meta")?"":'<li><a href="/privileges">privileges</a></li>')+(k?"":'<li><a href="/users/logout">log out</a></li>')+'</ul></div><div class="profile-stats"></div><div class="profile-footer"><span class="popup-clock"></span> <a>close</a></div></div></div>');u.insertBefore(l).find(".profile-footer").click(profileLink.click);
g||p(u);o=u}m(n)||(o.fadeIn("fast"),a(o),c(!0,n),b=new Date);e||(e=setInterval(j,2E4),j())},hide:function(a,d){if(b&&!(500>(new Date).getTime()-b.getTime())){if(!a||"number"==typeof a)a=h();d||(d=$(".profile-popup"));m(a)&&(d.fadeOut("fast"),c(!1,a));e&&(clearInterval(e),e=null)}}}}();
StackExchange.tagPreferences=function(){function f(b,c,a){var d="";"undefined"!=typeof forUserId&&(d=forUserId);$.post("/users/save-preference",{fkey:StackExchange.options.user.fkey,key:b,value:c,forUserId:d},a)}var d=[],e=function(b,c){return b.map(function(a,b){return $(b).text()}).filter(function(a,b){if(!c)return!0;var d;/\*/.test(b)&&(d=RegExp(b.replace(/([.+])/g,"\\$1").replace(/\*/g,".*")));for(a=0;a<c.length;a++){var e=c[a];if(b===e||d&&d.test(e))return!1}return!0}).map(function(a,b){var c;
c=b.replace(/#/g,"\u00f1").replace(/\+/g,"\u00e7").replace(/\./g,"\u00fb");return/\*/.test(c)?"div.tags:regex(class, t-"+c.replace(/\*/g,".*")+")":"div.t-"+c}).get().join(",")},g=function(d,c,a,e,g,h){for(var k=$(d).val(),l=sanitizeAndSplitTags(k,!0),q=!1,r=0;r<l.length;r++)0!=$.trim(l[r]).length&&($(c).children().each(function(){$(this).text()==l[r]&&($(this).fadeTo(500,0.1).fadeTo(500,1),q=!0)}),q||(k=$.URLEncode(l[r]),$(c).append('<a id="'+l[r]+'" href="/questions/tagged/'+k+'" class="'+e+'" title="show questions tagged \''+
l[r]+"'\">"+l[r]+"</a> "),i(a)),q=!1);$(d).val("");g&&$(d).focus();h||f(a,$(c).text());b()},i=function(d){$(20==d?"#interestingTags > .post-tag:last":25==d?"#ignoredTags > .post-tag:last":"#interestingTags > .post-tag, #ignoredTags > .post-tag").append('<span class="delete-tag" title="remove this tag"></span>').click(function(c){c=$(c.target);if(c.is("[class^=delete-tag]")){var c=c.closest(".post-tag"),a=c.closest("div"),d=a.is("#ignoredTags")?25:20;c.remove();f(d,a.text());b();return!1}})},b=function(b,
c){if(c)for(var a=0;a<c.length;a++)-1==d.indexOf(c[a])&&d.push(c[a]);var c=d,a=$("#ignoredTags > a"),f=$("#interestingTags > a");if(!b||!(0==a.length&&0==f.length)){$("div.question-summary").removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting");a=e(a,c);f=e(f,c);if(0<a.length){var g=$("#hideIgnored").is(":checked")?"tagged-ignored-hidden":"tagged-ignored";$(a).closest("div.question-summary").addClass(g)}0<f.length&&$(f).closest("div.question-summary").addClass("tagged-interesting")}},
l=function(d,c){var a=$("#tag-menu"),e;"favorite"==c&&(e=$("#ignoredTags a").filter(function(){return $(this).text()==d}),e.add(e.next()).remove(),$("#interestingTag").val(d),g("#interestingTag","#interestingTags",20,"post-tag",!1,!0));"ignore"==c&&(e=$("#interestingTags a").filter(function(){return $(this).text()==d}),e.add(e.next()).remove(),$("#ignoredTag").val(d),g("#ignoredTag","#ignoredTags",25,"post-tag",!1,!0));"clear"==c&&(e=$("#ignoredTags a").filter(function(){return $(this).text()==d}),
e.add(e.next()).remove(),e=$("#interestingTags a").filter(function(){return $(this).text()==d}),e.add(e.next()).remove(),b());StackExchange.helpers.addSpinner(a);$.ajax({type:"POST",url:"/tags/"+encodeURIComponent(d)+"/favorite",data:{action:c,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(b){h(a.html($(""+b)),d)},error:function(){},complete:StackExchange.helpers.removeSpinner})},k=function(b,c){var a=$("#tag-menu");StackExchange.helpers.addSpinner(a);$.ajax({type:"POST",url:"/tags/"+
encodeURIComponent(b)+"/subscription",data:{unsubscribe:c,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(c){h(a.html($(""+c)),b)},error:function(){},complete:StackExchange.helpers.removeSpinner})},h=function(b,c){b.find(".tm-se-subscription").click(function(){k(c,$(this).hasClass("tm-se-unsubscribe"))}).end().find(".tm-favorite, .tm-favorite-clear, .tm-favorite-ignore").click(function(){$(this).hasClass("tm-favorite")?l(c,"ignore"):$(this).hasClass("tm-favorite-clear")?l(c,
"favorite"):$(this).hasClass("tm-favorite-ignore")&&l(c,"clear")})};return{applyPrefs:b,isIgnored:function(b){var c=$("#ignoredTags > a");if($("#hideIgnored").is(":checked")&&(c=e(c,!0),0<c.length))return 0<$(b).find(c).length},init:function(){StackExchange.tagmenu.init(h);0!=$("#interestingTags").length&&(i(),$("#ignoredAdd").click(function(){g("#ignoredTag","#ignoredTags",25,"post-tag user-tag",!0)}),$("#interestingAdd").click(function(){g("#interestingTag","#interestingTags",20,"post-tag user-tag",
!0)}),$("#hideIgnored").click(function(){f(30,$(this).is(":checked"));b()}),StackExchange.using("tagAutocomplete",function(){bindTagFilterAutoComplete("#ignoredTag");bindTagFilterAutoComplete("#interestingTag")}))}}}();
StackExchange.question.fullInit=function(f){window.votesCast=f.votesCast;StackExchange.vote.init(f.questionId);StackExchange.question.bindSuggestedEditPopupLinks();f.canViewVoteCounts&&StackExchange.vote.bindFetchVoteCounts();StackExchange.vote_bounty.init(f);if(/^#autocomment/.test(window.location.hash)){var d=$(".comments-link:first"),e="#comment-"+window.location.hash.substring(12),g=function(){var d=$(e),b=$("<span><b>Trivial answer converted to comment</b></span>");d.find(".comment-date").append($("<br>")).append(b);
d.css({backgroundColor:f.highlightColor});d.animate({backgroundColor:f.backgroundColor},2E3,"linear",function(){$(this).css("background-color","")});$(e)[0].scrollIntoView(!0)};f.totalCommentCount&&f.shownCommentCount&&f.totalCommentCount!=f.shownCommentCount?StackExchange.comments.loadAll(d).done(g):g()}};
StackExchange.question.bindSuggestedEditPopupLinks=function(){function f(d){var e=d.parent(),f=d.attr("id").substring(13);d.data("working")||(d.data("working",!0).addSpinnerAfter({padding:"3px 0"}),$.ajax({type:"GET",url:"/review/suggested-edit-popup/"+f,dataType:"html",success:function(d){var d=$(['<div id="lightbox-panel" class="popup" style="display: block;"><div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div><div class="popup-suggested-edit">',d,"</div></div>"].join("")),
b=$(window).height();d.find(".popup-suggested-edit").css({"max-height":b-100});$('<div id="lightbox"/>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");d.appendTo(e).css("height","600px").center().css("height","").fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})},error:function(d){e.showErrorPopup(d.responseText&&200>d.responseText.length?d.responseText:"Unable to load suggested edit - please try again")},complete:function(){StackExchange.helpers.removeSpinner();
d.removeData("working")}}))}$('div.post-menu a[id^="edit-pending-"]').each(function(){$(this).unbind("click").click(function(){f($(this));return!1})})};
StackExchange.vote=function(){var f=StackExchange.helpers,d={informModerator:-1,undoMod:0,acceptedByOwner:1,upMod:2,downMod:3,offensive:4,favorite:5,close:6,reopen:7,bountyClose:9,deletion:10,undeletion:11,spam:12},e=function(a){a||(a="div.vote");$(a).find(".vote-up-off").unbind("click").click(function(){l($(this))});$(a).find(".vote-down-off").unbind("click").click(function(){k($(this))})},g=function(a){return(a?a.closest("div.vote"):$("div.vote")).find(".vote-up-off, .vote-down-off").unbind("click")},
i=function(a){$.each(a,function(){var a=$("div.vote:has(input[value="+this.PostId+"])");switch(this.VoteTypeId){case d.upMod:a.find(".vote-up-off").addClass("vote-up-on");break;case d.downMod:a.find(".vote-down-off").addClass("vote-down-on");break;case d.favorite:a.find(".star-off").addClass("star-on");a.find("div.favoritecount b").addClass("favoritecount-selected");break;default:StackExchange.debug.log("site.vote.js > highlightExistingVotes has no case for "+this.VoteTypeId)}});votesCast=null},b=
function(a){null==window.votesCast?$.ajax({type:"GET",url:"/posts/"+a+"/votes",dataType:"json",success:i}):i(window.votesCast);e()},l=function(b){var e=b.parent().find(".vote-up-off"),f=b.parent().find(".vote-down-off"),h=e.hasClass("vote-up-on"),v=f.hasClass("vote-down-on");a(b,h?-1:v?2:1);c(e,f);h||e.addClass("vote-up-on");e=h?d.undoMod:d.upMod;g(b);f=m(b);j(b,f,e,n)},k=function(b){var e=b.parent().find(".vote-up-off"),f=b.parent().find(".vote-down-off"),h=f.hasClass("vote-down-on"),v=e.hasClass("vote-up-on");
a(b,h?1:v?-2:-1);c(e,f);h||f.addClass("vote-down-on");e=h?d.undoMod:d.downMod;g(b);f=m(b);j(b,f,e,n)},h=function(){return $("div.vote a[id^='vote-accepted-']")},m=function(a){return a.closest("div.vote").find("input").val()},c=function(a,b){a.removeClass("vote-up-on");b.removeClass("vote-down-on")},a=function(a,b){var c=a.siblings("span.vote-count-post"),d;if(0<c.find(".vote-count-separator").length){d=parseInt(c.children(":first").text(),10);var e=Math.abs(parseInt(c.children(":last").text(),10));
d-=e;x(c)}else d=parseInt(c.text(),10);c.text(d+b)},j=function(a,b,c,d,e,f){var g={fkey:StackExchange.options.user.fkey};if(e)for(var j in e)g[j]=e[j];var h=function(){$.ajax({type:"POST",url:"/posts/"+b+"/vote/"+c,data:g,dataType:"json",success:function(c){c.Warning?confirm(c.Message)?(g.ignoreWarnings="true",h()):f&&f():(d(a,b,c),f&&f())},error:function(){o(a,"An error has occurred - please retry your request.");f&&f()}})};h()},n=function(a,b,f){if(f.Success){if(f.Message){var g=f.Message;a.parent().showErrorPopup(g,
{dismissable:!1,"transient":!0})}f.ShowShareTip&&(g=$(a).closest(".question,.answer").find('div.post-menu a:contains("link")'),StackExchange.question.showShareTip(g));f.LastVoteTypeId==d.upMod?$(document).trigger("upVote",b):f.LastVoteTypeId==d.downMod?$(document).trigger("downVote",b):$(document).trigger("undoVote",b)}else if(window.console&&window.console.firebug&&(!f.Message||5>f.Message.length))o(a,"FireBug seems to be enabled, which can sometimes interfere with voting;<br>please refresh the page to see if your vote was processed.<br><br>If this persists, consider disabling FireBug for this site.");
else if(o(a,f.Message||"An error has occurred - please retry your request."),c(a,a),a.parent().find("span.vote-count-post").text(f.NewScore),f.LastVoteTypeId){var b=f.LastVoteTypeId,j;b==d.upMod?(g=".vote-up-off",j="vote-up-on"):b==d.downMod&&(g=".vote-down-off",j="vote-down-on");g&&a.closest("div.vote").find(g).addClass(j)}e(a.parent())},o=function(a,b){f.showErrorPopup(a.parent(),b)},p=function(){$(".star-off:not(.disabled)").live("click",function(a){w($(this));a.preventDefault()})},w=function(a){if(!a.data("loading")){a.data("loading",
!0);var b=m(a)||a.siblings("input[type=hidden]").val(),c=a.parent().find("div.favoritecount b"),e=parseInt("0"+c.text().replace(/^\s+|\s+$/g,""),10),f=function(){a.hasClass("star-on")?(a.removeClass("star-on"),c.removeClass("favoritecount-selected").text(0>=e--?"":e)):(a.addClass("star-on"),c.addClass("favoritecount-selected").text(++e))};f();j(a,b,d.favorite,function(b,c,d){a.data("loading",!1);d.Success||(f(),a.parent().showErrorPopup(d.Message))})}},q=function(a,b){$("div.post-menu *[id^='delete-post-'], table.flagged-posts *[id^='delete-post-']").unbind("click").die("click").live("click",
function(c){c.preventDefault();var c=$(this),e=c.attr("id").substring(12),f=-1<c.text().indexOf("undelete");if(confirm("Vote to "+(f?"un":"")+"delete this post?"))j(c,e,f?d.undeletion:d.deletion,a||r,b)})},r=function(a,b,c){var d=-1<a.text().indexOf("undelete");c&&c.Success?(a.text(c.Message),0>c.NewScore?(a=0<$(".question:has(a[id='delete-post-"+b+"'])").length?".question, div.answer":"#answer-"+b,a=$(a),d?document.location.reload(!0):($("div.question-status:has(span:contains('delete'))").show(),
a.addClass("deleted-answer").find("a[id^='delete-post-']").addClass("deleted-post").end().find("div[id^='comments-']").addClass("comments-container-deleted").end().find("a[id^='comments-link-']").addClass("comments-link-deleted"))):o(a,"This post still needs "+c.NewScore+" vote(s) from other users to "+(d?"un":"")+"delete")):(d=c&&c.Message?c.Message:"A problem occurred during "+(d?"un":"")+"deletion",f.showErrorPopup(a.parent(),d))},u=function(){var a=$(this),b=a.attr("id").substring(14),c=h();a.is(":working")||
(a.parent().addSpinner(),c.working(!0),j(a,b,d.acceptedByOwner,function(b,e,f){f.Success?(c.removeClass("vote-accepted-on"),parseInt(f.Message,10)==d.acceptedByOwner&&a.addClass("vote-accepted-on")):o(a,f.Message);a.parent().removeSpinner();c.working(!1).trigger("update")}))},s=function(){var a=$(this),b=(a.hasClass("vote-accepted-on")?"un":"")+"accept";a.attr("title",a.data("title-"+b)).text(a.data("verb-"+b))},t=function(a){var b=a.closest("div.vote").children('input[type="hidden"]').val();a.addSpinner();
$.ajax({type:"GET",url:"/posts/{postId}/vote-counts".format({postId:b}),dataType:"json",success:function(b){StackExchange.helpers.removeErrorPopup();a.html('<div style="color:green">'+b.up+'</div><div class="vote-count-separator"></div><div style="color:maroon">'+b.down+"</div>").unbind("click").data("bound",!1).css("cursor","default").attr("title",Math.abs(+b.up)+" up / "+Math.abs(+b.down)+" down")},error:function(b){a.removeSpinner().parent().showErrorPopup(b.responseText&&100>b.responseText.length?
b.responseText:"An error occurred during vote count fetch")}})},x=function(a){(a||$(".vote-count-post")).not(".mobile-vote-count").not(":data(bound)").attr("title","View upvote and downvote totals").css("cursor","pointer").click(function(){t($(this))}).data("bound",!0)},v=function(a){b(a);$("div.post-menu a[id^='protect-post-']").unbind("click").click(function(a){a.preventDefault();a=this.id.substring(13);confirm("Are you sure you want to protect this question?")&&$.ajax({type:"POST",url:"/question/protect",
data:{id:a,fkey:StackExchange.options.user.fkey},success:function(){location.reload(!0)}});return!1});$("div.post-menu a[id^='unprotect-post-']").unbind("click").click(function(a){a.preventDefault();a=this.id.substring(15);confirm("Are you sure you want to unprotect this question?")&&$.ajax({type:"POST",url:"/question/unprotect",data:{id:a,fkey:StackExchange.options.user.fkey},success:function(){location.reload(!0)}});return!1});StackExchange.vote_closingAndFlagging.init();p()};return{init:function(a){!StackExchange.options.user.isRegistered?
StackExchange.question.bindAnonymousVoteDisclaimers():v(a);h().not(":data(bound)").on({click:u,update:s}).data("bound",!0).trigger("update");StackExchange.question.bindFetchAcceptedAnswerDates();q()},up:l,down:k,vote_init:b,favorite_init:p,delete_init:q,bindFetchVoteCounts:x,highlightExistingVotes:i,submit:j,voteTypeIds:d,getPostId:m}}();
StackExchange.vote_closingAndFlagging=function(){var f=StackExchange.vote.voteTypeIds,d,e=function(a,b){var c=$(".popup-title-container .popup-breadcrumbs");c.children().hide();$("<a>").text(a).click(function(){c.find(":visible").remove();c.find("a:last, .arrow:last").show();b()}).appendTo(c);$("<span>").addClass("arrow").html("&gt;").appendTo(c)},g=function(a,b){e("Flagging",function(){a.fadeOut("fast");b.fadeIn("fast")})},i=function(a,c,d,e){$("#close-question-popup").remove();var f=a.closest(".post-menu");
f.length||(f=a.parent());d||a.addSpinnerAfter({padding:"0 3px"});$.ajax({type:"GET",url:"/posts/popup/close/"+c+(d?"?isForFlagging=1":""),dataType:"html",success:function(c){c=$(c).elementNodesOnly();e&&(e.fadeOut("fast"),o=c);c.appendTo(f);b(c,a,e);c.center().fadeIn("fast")},error:function(){f.showErrorPopup("Unable to load popup - please try again")},complete:StackExchange.helpers.removeSpinner})},b=function(a,b,d){c();a.find(".popup-close").click(function(){a.fadeOutAndRemove();d&&d.remove()});
d&&g(a,d);var f=a.find(".popup-submit");a.find('input[type=radio]:not(input[name="existing-close"])').click(function(){var b=$(this),d=b.closest("li");if(!d.hasClass("action-selected")){var b=b.attr("id").substr(6),g=$("#pane"+b);0==g.length?b=null:($("#pane-main").removeClass("popup-active-pane").hide(),l(g),g.addClass("popup-active-pane").show().asyncLoad(),e("Closing",c),window["pane"+b](),b=g);b||(f.enable(),a.find(".popup-active-pane li.action-selected").removeClass("action-selected"),d.addClass("action-selected"))}});
k();$("#close-question-form").submit(function(){h(a,b,$(this),f);return!1})},l=function(a){$(".popup-title-container .popup-title").html(a.data("title"))},k=function(){var a=$(".close-as-duplicate-pane").find("#search-text");a.helpOverlay().typeWatch({highlight:!1,wait:750,captureLength:-1,callback:function(){n(a)}})},h=function(a,b,c,d){if(!d.attr("disabled")){$("#remaining-votes").addSpinner({position:"absolute",margin:"3px 0 0 5px"});d.disable();var e=0<a.find("input[name=isForFlagging]").length,
f=$("#original-question-id").val();$.ajax({type:"POST",url:c.attr("action"),dataType:"json",data:{fkey:StackExchange.options.user.fkey,isForFlagging:e,"close-reason-id":$("#pane-main input[type=radio]:checked").val(),"migration-site-id":$('input[type=radio][id^="close-offtopic-"]:checked, input#migrate-anywhere:checked').val(),"original-question-id":f},success:function(a){m(b,questionId,a,e,!!f)},error:function(){b.parent().showErrorPopup(-1<"A problem occurred when trying to "+b.text().indexOf("open")?
"reopen":"close")},complete:function(){StackExchange.helpers.removeSpinner();a.fadeOutAndRemove()}})}},m=function(a,b,c,e,f){a&&a.removeSpinner();!e&&a.is("[id^='flag-post-'], [id^='mobile-flag-post-']")&&(a=a.parent().find("a[id^='close-question'], a[id^='mobile-close-post-']"));b=a&&-1<a.text().indexOf("open")?"reopen":"close";if(c.Success){if(!d||!d.closeCallback||!d.closeCallback(a,c))if(c.Message){var g=a.parent();e?g.showErrorPopup(c.Message):(a.text(a.text().replace(/\w?\(\d\)/,"")+" "+c.Message),
g.showErrorPopup("This question still needs "+c.NewScore+" vote(s) from other users to "+b));f&&(a.closest(".mod-post-header").length||StackExchange.comments.loadAll(a))}else c.RedirectTo?location.href=c.RedirectTo:location.reload(!0)}else if(e=c.Message||"A problem occurred when trying to "+b,!d||!d.closeErrorCallback||!d.closeErrorCallback(e))a.parent().showErrorPopup(e),c.Refresh&&setTimeout(function(){location.reload(!0)},2500)},c=function(){$(".popup-subpane").removeClass("popup-active-pane").hide();
var a=$("#pane-main");a.addClass("popup-active-pane").show().find("input[type=radio]:checked").removeAttr("checked").end().find("li.action-selected").removeClass("action-selected");l(a);$(".popup").find(".popup-submit").disable()},a=function(a){a=a.find(".list-originals");0==a.children().length?a.hide():(a.show(),j(a,!0),styleCode(),a.find(".item").click(function(){var a=$(this).find(" .post-link > a").addSpinner({"padding-left":"3px"}),b=$("#search-text").hideHelpOverlay().val(a.attr("href"));n(b,
a);return!1}).hover(function(){$(this).toggleClass("hover")}))},j=function(a,b){var c=$(".close-as-duplicate-pane .original-display").find(".navi-container"),d=a.find(".navi"),e=$("#search-text");if(b)c.empty();else{var f=c.find(".navi");if(1!=f.length)return;f.empty();$("<a>").text(f.data("abbr")).click(function(){f.html(f.data("text")).siblings().remove();c.siblings(".preview").hide();c.siblings(".list-container").show();$("#original-question-id").val("");$("#close-question-popup").find(".popup-submit").disable();
$(".close-as-duplicate-pane").find(".search-errors").empty();e.val(f.data("search-text")).focus()}).appendTo(f)}d.data("search-text",e.val()).text(d.data("text")).prependTo(c)},n=function(b,c){var d=b.closest(".popup-subpane"),e=d.find(".preview"),f=d.find(".list-container"),g=d.find(".search-errors").empty(),h=$("#original-question-id"),i=d.closest("#close-question-popup").find(".popup-submit");i.disable();e.html("").hide();0!=$.trim(b.val()).length&&(c||d.find(".search-spinner").addSpinner(),$.ajax({type:"GET",
url:"/posts/popup/close/search-originals/"+questionId,data:{q:b.val()},dataType:"html"}).done(function(b){b=$(b).elementNodesOnly().mathjax();if(b.hasClass("show-original"))f.hide(),j(b),e.empty().append(b).show(),b.find(".question .show-title a").attr("target","_blank"),b.find(".post-tag").addClass("user-tag"),h.val(b.find(".question").data("questionid")),i.enable();else if(b.hasClass("list-originals"))f.empty().append(b).show(),a(f);else throw"these are not the results you were looking for";}).fail(function(a){g.text(a.responseText&&
100>a.responseText.length?a.responseText:"An error occurred while searching; please try again");i.disable();h.val("");d.find(".navi-container .instructions").remove()}).always(function(){StackExchange.helpers.removeSpinner()}))},o,p,w=function(a){o&&(o.remove(),o=null);r(a);a.find("form").submit(function(){s(a);return!1});$("#flag-load-close").unbind("click").click(function(){if(p)p(a,$(this));else{var b=$(this);b.closest("li").siblings("li").trigger("hide-action");if(o)g(o.fadeIn("fast"),a.fadeOut("fast"));
else{b.siblings(".action-name").addSpinner({margin:"0 5px"});var c=a.attr("id").substr(11),d=$("#flag-post-"+c),e="true"==$("#flag-isClosePopupForFlagging").val();i(d,c,e,a)}a.find(".popup-submit").disable();b.removeAttr("checked")}})},q=function(a){a=a.find("input:radio").attr("id").substr(5);a=a==f.offensive||a==f.spam;$(".flag-remaining-spam").toggle(a);$(".flag-remaining-inform").toggle(!a)},r=function(a){var b=a.find(".popup-submit"),c=a.find('textarea[name="flag-reason"]');c.focus(function(){c.hideHelpOverlay();
var a=c.closest("li").find("input:radio");a.is(":checked")||a.attr("checked","checked")}).charCounter({min:10,max:500,setIsValid:function(a){var d=c.closest("li").find("input[type=radio][value=other]").is(":checked"),e=c.closest("li").parent().closest("li").hasClass("action-selected");d&&e&&b.enable(a)}});a=c.closest(".action-subform");a.find("input.flag-prefilled").click(function(){b.enable()});a.find('input[value="other"]').click(function(){c.focus()});a.find("label, input:radio").css("cursor",
"pointer")},u=function(a){if(a.is(".mod-attention-subform")){var b=a.find('textarea[name="flag-reason"]');b.helpOverlay();a.find("input[value=other]:checked").length?b.focus():a.find("input:radio:checked").length||a.closest(".popup").find(".popup-submit").disable()}},s=function(a){a.find(".popup-submit").disable().siblings(".spinner-container").addSpinner();var b=a.attr("id").substr(11),c=$("#flag-post-"+b),d=a.find('input[name="flag-post"]:checked').val();d==f.informModerator?t(a,b,c):StackExchange.vote.submit(c,
b,d,x,null,function(){a.fadeOutAndRemove()})},t=function(a,b,c){var e=a.find(".mod-attention-subform"),f=e.find("input:radio:checked"),e="other"==f.val()?e.find('textarea[name="flag-reason"]').val():f.val();$.ajax({type:"POST",url:"/messages/inform-moderator-about-post/"+b,dataType:"json",data:{fkey:StackExchange.options.user.fkey,msg:e},success:function(a){(!d||!d.flagCallback||!d.flagCallback(c,a))&&c.parent().showErrorPopup(a.Message)},error:function(a){c.parent().showErrorPopup(a.responseText&&
100>a.responseText.length?a.responseText:"An error occurred during submission")},complete:function(){a.fadeOutAndRemove()}})},x=function(a,b,c){if(!d||!d.flagCallback||!d.flagCallback(a,c))c.Refresh?location.reload(!0):a.parent().showErrorPopup(c.Message)};return{on_close_click:function(a){p=a},flag_actionSelected:q,flag_subformShow:u,close_initPopup:b,flag_loaded:w,close_afterLoadListOriginals:a,init:function(a){d||(d=a);$("div.post-menu a[id^='close-question-'], table.flagged-posts input[id^='close-question-']").unbind("click").die("click").live("click",
function(a,b){a.preventDefault();var c=$(this),d=!!b,e=-1<c.text().indexOf("open"),g=c.attr("id").substring(15);if(e){if(d||confirm("Nominate this question for reopening?"))c.addSpinnerAfter({padding:"0 3px"}),StackExchange.vote.submit(c,g,f.reopen,m)}else d="true"==$("#close-isClosePopupForFlagging").val(),i(c,g,d)});$("div.post-menu a[id^='flag-post-'], div.flag-options .flag-post").unbind("click").die("click").live("click",function(a){a.preventDefault();var a=$(this),b=a.attr("id").substring(10);
a.loadPopup({url:"/posts/popup/flag/"+b+(a.hasClass("show-invalid")?"?showInvalid=true":""),loaded:w,hideDescriptions:!0,actionSelected:q,subformShow:u})})}}}();
(function(){function f(a,b){this.commentId=a;this.jComment=b;this.postUi=l(b)}function d(a){var a=a.constructor===$?a:$(a),a=a.hasClass("comment")?a:a.closest(".comment"),b=a.attr("id").replace(/^comment-/,"");return new f(b,a)}function e(a,b,c){/Android/.test(navigator.userAgent)&&$(b,a).bind("touchstart",function(a){a=$(a.target);if(!a.is(c))return!0;var b=a.data("events");if(b&&b.click&&b.click.length)return!0;a.click(function(){}).attr("data-nothing-to-see-here","X");return!0})}function g(a,b,
c){$(".comments",a).delegate(b,"click",function(){d(this)[c]()});e(a,".comments",b)}var i,b=StackExchange.comments,l=b.uiForPost;b.extendPostUi({ensureInput:function(){var a=this.jDiv.find('form[id^="add-comment-"]'),b=this;return a.children().length?(a.add(a.prev()).show(),a.find("textarea")):h(a,"Add Comment",!1,function(){b.submitNewComment()})},saveEditingComments:function(a){var b=this.editingComments=[];this.jDiv.find("form[id^='edit-comment-']:visible").each(function(){var c=d(this);if(c.commentId!==
a){var e=$(this).find("textarea");b.push([c.commentId,e.val()])}})},restoreEditingComments:function(){this.editingComments&&($.each(this.editingComments,function(a,b){var c=b[1],e=$("#comment-"+b[0]);e.length&&d(e).edit(c,!0)}),delete this.editingComments)},commentsShown:function(){try{var a=this.jDiv.find("form[id^='add-comment-'] textarea:focus");a.length&&StackExchange.comments.tabCompleter.init(a);this.jCommentsLink.data("comments-count",0)}catch(b){}},submitNewComment:function(){var a=this.jDiv.find('form[id^="add-comment-"]'),
b=a.find("textarea"),c=this,d=a.find('input[type="submit"]').parent();this.ajax({type:"POST",url:"/posts/"+this.postId+"/comments",dataType:"html",data:{comment:b.val(),fkey:StackExchange.options.user.fkey}},"during comment submission",d).done(function(d){c.showComments(d);b.val("").keyup().blur();StackExchange.helpers.enableSubmitButton(a);a.add(a.prev()).hide();c.jCommentsLink.show();$(document).trigger("comment",c.postId)}).fail(function(){StackExchange.helpers.enableSubmitButton(a)})},checkDiscussion:function(){var a=
this.jDiv.find("tr.is-comment-discussion"),b=this;if(a.length){a.remove();var c=this.jDiv.find(".comment-form");c.find(".discussion-info").length||($("<div style='margin:12px 0 3px; font-weight:bold' class='discussion-info'>Please avoid extended  discussions in comments. Would you like to <a href='#'>automatically move this discussion to chat?</a></div>").find("a").click(function(a){$(this).unbind("click");a.preventDefault();b.ajax({url:"/posts/"+b.postId+"/move-discussion-to-chat",data:{fkey:StackExchange.options.user.fkey},
type:"POST"},"when trying to move the discussion to chat",c).done(function(a){a.success?window.location.href=a.message:StackExchange.helpers.showErrorPopup(c,a.message)})}).end().prependTo(c),a.remove())}}});f.prototype={undoVoteUp:function(){if(confirm("Are you sure you want to undo your upvote on this comment? You will not be able to upvote it again.")){var a=this.jComment.find(".comment-up-on").addClass("comment-up comment-up-off").removeClass("comment-up-on comment-up-undo"),b=this;this.submitVote(0).done(function(c){c.Success?
(a.closest("tr").siblings("tr").show(),b.renderScore(c.NewScore),a[0].title="this comment adds something useful to the post",$(document).trigger("undoUpVoteComment",b.postUi.postId)):a.removeClass("comment-up-off comment-up").addClass("comment-up-on")}).fail(function(b){409===b.status&&a.addClass("comment-up-undo");a.removeClass("comment-up").addClass("comment-up-on")})}},voteUp:function(){var a=this.jComment.find(".comment-up").addClass("comment-up-on").removeClass("comment-up"),b=this;this.submitVote(2).done(function(c){c.Success?
(a.removeClass("comment-up-off").closest("tr").siblings("tr").hide(),a.addClass("comment-up-undo"),b.renderScore(c.NewScore),a[0].title="you've voted for this as a useful comment (click again to undo)",$(document).trigger("upVoteComment",b.postUi.postId)):a.removeClass("comment-up-on").addClass("comment-up")}).fail(function(){a.removeClass("comment-up-on").addClass("comment-up")})},"delete":function(){var a=this;confirm("Really delete this comment?")&&this.submitVote(10).done(function(b){b.Success&&
(0===a.jComment.siblings(".comment").length&&a.jComment.closest(".comments").addClass("dno"),a.jComment.remove())})},flag:function(){var a=this;this.jComment.find(".comment-flag").loadPopup({url:"/posts/comments/popup/flag/"+this.commentId,loaded:function(b){var c=b.find("#comment-popup-other-text").charCounter({min:6,max:200,setIsValid:function(){f()}}),d=b.find("#comment-popup-other").click(function(){f();c.focus()}),e=b.find(".text-counter"),f=function(){var a=0==b.find('input[name="comment-reason"]:checked').length;
d.is(":checked")?(a=c.show().val().length,e.show(),a=6>a||200<a):(c.hide(),e.hide());b.find(".popup-submit").attr("disabled",a)};b.find("input").click(f);f();b.find("form").submit(function(){var e=(d.is(":checked")?c:b.find('input[name="comment-reason"]:checked')).val();b.fadeOutAndRemove();a.submitVote(4,e).done(function(b){b.Success&&(-1===b.NewScore?a.jComment.remove():a.jComment.find(".comment-flag, .comment-up").fadeOutAndRemove())});return!1})}})},edit:function(a,b){var c=this.jComment,d=c.find('form[id^="edit-comment-"]'),
e=this;d.length&&(c.find(" > td > *").not(d).hide(),c.find("td:last").addClass("comment-form"),c=h(d,"Save Edits",!0,function(){e.submitEdit()}),c.val(a||d.find("div").text()),d.show(),b||c.focus())},cancelEdit:function(){var a=this.jComment,b=a.find('form[id^="edit-comment-"]');b.children("table").remove();b.hide();b.unbind("submit");a.find("td:last").removeClass("comment-form");a.find(" > td > *").not(b).show()},submitEdit:function(){var a=this.jComment.find('form[id^="edit-comment-"]'),b=this;
this.postUi.ajax({type:"POST",url:"/posts/comments/"+this.commentId+"/edit",dataType:"html",data:{comment:a.find("textarea").val(),fkey:StackExchange.options.user.fkey}},"during comment submission",a).done(function(a){b.postUi.showComments(a,b.commentId)}).fail(function(){StackExchange.helpers.enableSubmitButton(a)})},submitVote:function(a,b){var c=this.jComment.find("td:first");return this.postUi.ajax({type:"POST",url:"/posts/comments/"+this.commentId+"/vote/"+a,dataType:"json",data:{fkey:StackExchange.options.user.fkey,
text:b},success:function(a){!a.Success&&a.Message&&StackExchange.helpers.showErrorPopup(c,a.Message)}},"during voting",c,!0)},renderScore:function(a){var b="";a&&0<a&&(b+='<span title="number of \'useful comment\' votes received" class="'+(5>a?"":15>=a?"warm":30>=a?"hot":"supernova")+'">'+a+"</span>");this.jComment.find(".comment-score").html(b)}};var k=function(a){a.find("textarea").keyup(function(b){13==b.which&&!b.shiftKey&&!$(this).prev("#tabcomplete:visible").length&&a.submit()}).keypress(function(a){if(13==
a.which&&!a.shiftKey)return!1})},h=function(a,b,c,e){b=a.hasClass("mobile-comment-form")?'<textarea name="comment" rows="2"></textarea><input type="submit" value="'+b+'"/>':'<table><tr><td><textarea name="comment" cols="68" rows="3"></textarea></td><td><input tabindex="0" type="submit" value="'+b+'"/>'+(c?'<a tabindex="0" class="edit-comment-cancel">cancel</a>':"")+'<br/><a tabindex="0" class="comment-help-link">help</a></td></tr><tr><td colspan="2"><span class="text-counter"></span><span class="form-error"></span></td></tr></table>';
a.append(b);c&&a.find(".edit-comment-cancel").click(function(){d(a).cancelEdit()});var f=!1,c=a.find("textarea");c.charCounter({min:15,max:600,setIsValid:function(a){f=a}}).focus(function(){StackExchange.comments.tabCompleter.init($(this))});a.find(".comment-help-link").click(m);if(i)c.one("focus",m);a.submit(function(){f?(StackExchange.helpers.disableSubmitButton(a),e(a)):a.find("span.text-counter").animate({opacity:0},100,function(){$(this).animate({opacity:1},100)});return!1});StackExchange.options.desc||
k(a);return c},m=function(a){var b=$(this).closest("tbody"),c=b.find(".comment-help-link"),d=$(".comment-help",b),e;if("click"==a.type)e=0==d.length||!d.is(":visible"),e||(m.manualOnly=!0);else{if(m.manualOnly)return;e=!0}var f=function(){c.text(e?"hide help":"help")};0<d.length?e?d.slideDown(f):d.slideUp(f):e&&(a=$("<tr />").appendTo(b),a=$("<td colspan='2' />").appendTo(a),m.helpText?(a.html(m.helpText),$(".comment-help",a).slideDown(f)):(StackExchange.helpers.addSpinner(c),a.load("/posts/comment-help",
function(a){m.helpText=a;StackExchange.helpers.removeSpinner();$(".comment-help",this).slideDown(f)})))},c=b.init;b.init=function(a){c(a);i=a&&a.autoShowCommentHelp;a=a&&a.post||document;g(a,".comment-up","voteUp");g(a,".comment-delete","delete");g(a,".comment-flag","flag");g(a,".comment-edit","edit");g(a,".comment-up-undo","undoVoteUp");$("form.comment-form-expanded",a).each(function(){l(this).addShow(!0)})}})();
StackExchange.comments.tabCompleter=function(){function f(b){var a=$("#tabcomplete");a.empty();!(5<b.length)&&b.length&&$.each(b,function(b,c){var d=$("<li/>").text(c).appendTo(a);c.toLowerCase()==h.toLowerCase()&&d.addClass("chosen")})}function d(){var b=k.caret().start,a=k.val(),d=!1;if(/@[^\s!?();:+"].*@/.test(a)){if(!/`/.test(a))return null;d=!0}var e=a.substring(b).search(/[\s!?();:+"\[\]\\]/);-1==e&&(e=a.length-b);var f=a.substring(0,b+e).match(/@[^\s!?();:+"\[\]\\]*$/);if(!f)return null;var f=
f[0].substr(1),e=b+e,g=e-f.length;return d&&/@[^\s!?();:+"]/.test(a.substr(0,g-1))?null:{start:g,pos:b,end:e,name:f}}function e(b){var a=d();if(a.name===b)k.is(":focus")||k.focus();else{var e=k.val();k.val(e.substring(0,a.start)+b+e.substring(a.end));b=a.start+b.length;k.caret(b,b)}}function g(b){var a;if(9==b.which){a=$("#tabcomplete li");if(!a.length)return;var d=a.filter(".chosen").removeClass("chosen"),d=b.shiftKey?d.prev():d.next();d.length||(d=b.shiftKey?a.last():a.first());a=d.addClass("chosen").text()}else if(27==
b.which){a=$("#tabcomplete li");if(!a.length)return;a=h;h=null}else return;b.preventDefault();e(a)}function i(b){if(b.which)switch(b.which){case 9:case 16:case 17:case 18:case 220:return}if(b=d()){if(h!=b.name){var a=[];h=b.name;var e;e=b.name?RegExp("^"+StackExchange.helpers.noDiacritics(b.name.replace(/ /g,"").toLowerCase()).replace(/\./g,"\\."),"i"):/^\W/;for(var g=l.length,i=0;i<g;i++){var k=l[i].name;(b.name?StackExchange.helpers.noDiacritics(k.replace(/ /g,"").toLowerCase()):k).match(e)&&a.push(k.replace(/ /g,
""))}f(a)}}else h=null,f([])}function b(b){return!b?null:parseInt(b.replace(/^\/users\/(\d+)\/.*$/,"$1"),10)||null}var l,k,h=null;$("#tabcomplete > li").live("mousedown",function(){var b=$(this);b.parent().find("li.chosen").removeClass("chosen");e(b.addClass("chosen").text());return!1});var m=b($("#hlinks a.profile-link").attr("href"));return{init:function(c){if(!StackExchange.options.isMobile){var a=c.closest("div.comments"),d=a.closest(".question, .answer").find(".post-signature:last .user-details a[href^='/users/']"),
d=b(d.attr("href")),e=[];a.find("a.comment-user").each(function(a,c){var d=c.firstChild;if(3!==d.nodeType)StackExchange.debug.log("unexpected structure in comment owner link");else{var d=d.nodeValue,f=b($(c).attr("href"));f!==m&&e.push({id:f,name:d})}});l=[];for(var a={},f=e.length-1;0<=f;f--){var p=e[f];a[p.id]||(l.push(p),a[p.id]=!0)}$("#tabcomplete").remove();k&&k.unbind($.browser.opera?"keypress":"keydown",g).unbind("keyup click",i);0===l.length||1===l.length&&l[0].id===d?k=null:(k=c,h=null,$("<ul id='tabcomplete' />").insertBefore(c),
c.bind("keydown",g).bind("keyup click",i))}}}}();
StackExchange.inlineEditing={init:function(f){function d(d,f,i,b){f.fadeIn(i,b);d.hide()}$(".post-menu .edit-post").live("click",function(e){if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey){var g=$(this),i=g.closest(".question, .answer");if(1==g.data("handling-event"))return!1;g.data("handling-event",1);i.find("#edit-tags-cancel").length&&StackExchange.inlineTagEditing.restoreCurrentTags(!0);$("#show-editor-button").hide();g.addSpinner();var b=i.hasClass("answer"),l=i.find(".postcell,.answercell"),
k=l.find("> *"),h=$('<div class="inline-editor"/>').hide().appendTo(l);h.load(g.attr("href")+"-inline",function(e,c){var a;h.find("[tabindex]").each(function(){$(this).attr("tabindex",parseInt($(this).attr("tabindex")-20))});StackExchange.helpers.removeSpinner();i.offset().top<$(window).scrollTop()&&$("html, body").animate({scrollTop:$(i).offset().top-55},200);if("error"==c)StackExchange.helpers.showErrorPopup(l,"The post could not be loaded"),h.remove(),g.data("handling-event",0);else{d(k,h,300);
var j=function(a){if(StackExchange.navPrevention){if(!StackExchange.navPrevention.confirm("You have started editing this post. Abandon this edit?"))return!1;StackExchange.navPrevention.stop()}h.find(".submit-error").hide();$("#show-editor-button").show();g.data("handling-event",0);d(h,a,300,function(){h.remove()});a.offset().top<$(window).scrollTop()&&$("html, body").animate({scrollTop:$(i).offset().top-55},200);return!1},n=function(){u.unbind("keyup",o);t.trigger(a)},o=function(){t.trigger(u[0].value);
return!0};h.find(".cancel-edit").click(function(){n();j(k)});var p=StackExchange.helpers.DelayedReaction(function(a){$.ajax({type:"POST",data:{hide:a},url:"/user/save-pref/hide-preview-for-inline-editing"})},1E3,{sliding:!0}),w=h.find(".hide-preview");w.click(function(){var a=h.find(".wmd-preview"),b=a.is(":visible");b?(a.slideUp(),w.text("show preview")):(a.slideDown(),w.text("hide preview"));p.trigger(b);return!1});var q=h.find('input[type="submit"]');q.attr("id").replace("submit-button","");var r=
h.find("form"),u=h.find("#title"),s=$("#question-header a");a=u.val();var t=StackExchange.helpers.DelayedReaction(function(a){s.text(a);"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,s[0]])},{sliding:!0});f&&StackExchange.using("postValidation",function(){StackExchange.postValidation.init(h,b?2:1,!1)});var x=function(a){if(a.success){var c=$(a.html).hide();l.replaceWith(c);b||$("#question-header a").text(a.title);$("html").trigger("inline-edit-complete",[c,a.title]);styleCode();
j(c)}else a.captchaHtml?StackExchange.captcha.init(a.captchaHtml,x):a.errors?StackExchange.using("postValidation",function(){f?StackExchange.postValidation.showErrorsAfterSubmission(a.errors,h,"edit"):StackExchange.postValidation.showErrors(a.errors,h,"edit")}):StackExchange.helpers.showErrorPopup(q.parent(),a.message)};u.keyup(o);h.find("#title,.wmd-input,#tagnames,.edit-comment").keydown(function(a){if(!0===a.ctrlKey&&13==a.keyCode)return r.submit(),!1;if(27==a.keyCode)return n(),j(k),!1});r.submit(function(){var a=
$(this).serialize();StackExchange.navPrevention&&StackExchange.navPrevention.stop();q.parent().addSpinner();StackExchange.helpers.disableSubmitButton(r);h.find(".submit-error").hide();$.ajax({type:"POST",dataType:"json",data:a,url:r[0].action,success:x,error:function(){StackExchange.helpers.showErrorPopup(q.parent(),"An error occurred saving the edit")},complete:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(r)}});return!1})}});return!1}})}};
StackExchange.translation=function(){return{init:function(){Translate.init({selector:".trans",additionalPopupWork:function(f){f.addClass("popup")},urlSelector:function(f){return"/api/translate/languages/en/"+$(f).data("translation-hash")}})}}}();
StackExchange.vote_bounty=function(){var f,d=function(b,d,e){d=$(".bounty-vote");if(e.Success){$(".bounty-notification").remove();f=!1;var g=b.closest("td.votecell").parent().find("span.reputation-score:last");e.Message&&(e=$(e.Message),g.text(e.text()).attr("title",e.attr("title")));e=b.closest("div.vote").find(".bounty-award-container");1<e.length?(e=e.filter(":first").find(".bounty-award"),g=parseInt(e.text(),10),b=parseInt(b.text(),10),e.text("+"+(g+b)),d.remove()):(b.unbind("mouseenter mouseleave").removeClass("bounty-vote bounty-vote-off"),
d.not(b).remove())}else StackExchange.helpers.showErrorPopup(b.parent(),e.Message),d.removeClass("disabled")},e=function(){$(".bounty-vote").hover(function(){$(this).removeClass("bounty-vote-off")},function(){$(this).addClass("bounty-vote-off")});$(".bounty-vote:not(.disabled)").live("click",function(){var b=$(this),e=StackExchange.vote.getPostId(b);if(f?confirm("Are you sure you want to award your bounty to this answer? THIS CANNOT BE UNDONE!"):1)$(".bounty-vote").addClass("disabled"),StackExchange.vote.submit(b,
e,StackExchange.vote.voteTypeIds.bountyClose,d)})},g=function(b){b.addSpinnerAfter({padding:"0 3px"});var d=$(b).closest(".question").find("div.vote input").val();$.ajax({type:"GET",url:"/posts/bounty/"+d,dataType:"html",success:function(d){var e=$(d);e.appendTo(b.parent());e.find(".popup-close").click(function(){e.fadeOutAndRemove()});e.center().fadeIn("fast")},error:function(){b.parent().showErrorPopup("Unable to load popup - please try again")},complete:StackExchange.helpers.removeSpinner})},i=
function(){var b=$(".bounty-link");b.click(function(){g(b)})};return{init:function(b){f=!!b.hasOpenBounty;b.canOpenBounty&&i();b.hasOpenBounty&&e()}}}();
